{
  "$schema": "https://libauth.org/schemas/wallet-template-v0.schema.json",
  "description": "Imported from cashscript",
  "name": "Perpetuity",
  "entities": {
    "parameters": {
      "description": "Contract creation and function parameters",
      "name": "parameters",
      "scripts": [
        "lock",
        "unlock_lock"
      ],
      "variables": {
        "period": {
          "description": "\"period\" parameter of this contract",
          "name": "period",
          "type": "WalletData"
        },
        "recipient_locking_bytecode": {
          "description": "\"recipientLockingBytecode\" parameter of this contract",
          "name": "recipientLockingBytecode",
          "type": "WalletData"
        },
        "executor_allowance": {
          "description": "\"executorAllowance\" parameter of this contract",
          "name": "executorAllowance",
          "type": "WalletData"
        },
        "decay": {
          "description": "\"decay\" parameter of this contract",
          "name": "decay",
          "type": "WalletData"
        }
      }
    }
  },
  "scenarios": {
    "evaluate_function": {
      "data": {
        "bytecode": {
          "period": "0x1f11",
          "recipient_locking_bytecode": "0xa914e78564d75c446f8c00c757a2bd783d30c4f0819a87",
          "executor_allowance": "0xdc05",
          "decay": "0x60"
        },
        "currentBlockHeight": 2,
        "currentBlockTime": 1744483677,
        "keys": {
          "privateKeys": {}
        }
      },
      "description": "An example evaluation where this script execution passes.",
      "name": "Evaluate",
      "transaction": {
        "inputs": [
          {
            "outpointIndex": 1,
            "outpointTransactionHash": "c051e6a5253f9e5d9b34b702502448226b7fb9db010a8d6380ba3ee996b5bc97",
            "sequenceNumber": 4383,
            "unlockingBytecode": [
              "slot"
            ]
          }
        ],
        "locktime": 893698,
        "outputs": [
          {
            "lockingBytecode": "a914e78564d75c446f8c00c757a2bd783d30c4f0819a87",
            "valueSatoshis": 1044321
          },
          {
            "lockingBytecode": {},
            "valueSatoshis": 99208904
          }
        ],
        "version": 2
      },
      "sourceOutputs": [
        {
          "lockingBytecode": [
            "slot"
          ],
          "valueSatoshis": 100254723
        }
      ]
    }
  },
  "scripts": {
    "unlock_lock": {
      "passes": [
        "evaluate_function"
      ],
      "name": "unlock",
      "script": "// \"execute\" function parameters\n// none\n",
      "unlocks": "lock"
    },
    "lock": {
      "lockingType": "p2sh32",
      "name": "lock",
      "script": "// \"Perpetuity\" contract constructor parameters\n<decay> // int = <0x60>\n<executor_allowance> // int = <0xdc05>\n<recipient_locking_bytecode> // bytes23 = <0xa914e78564d75c446f8c00c757a2bd783d30c4f0819a87>\n<period> // int = <0x1f11>\n\n// bytecode\nOP_TXVERSION\nOP_2\nOP_GREATERTHANOREQUAL\nOP_VERIFY\nOP_CHECKSEQUENCEVERIFY\nOP_DROP\nOP_TXINPUTCOUNT\nOP_1\nOP_NUMEQUALVERIFY\nOP_INPUTINDEX\nOP_UTXOVALUE\nOP_DUP\nOP_4\nOP_ROLL\nOP_DIV\nOP_0\nOP_OUTPUTBYTECODE\nOP_3\nOP_ROLL\nOP_EQUALVERIFY\nOP_DUP\n<0xe803>\nOP_GREATERTHAN\nOP_IF\nOP_0\nOP_OUTPUTVALUE\nOP_OVER\nOP_GREATERTHANOREQUAL\nOP_VERIFY\nOP_2DUP\nOP_SUB\nOP_3\nOP_PICK\nOP_SUB\nOP_1\nOP_OUTPUTBYTECODE\nOP_INPUTINDEX\nOP_UTXOBYTECODE\nOP_EQUALVERIFY\nOP_1\nOP_OUTPUTVALUE\nOP_OVER\nOP_GREATERTHANOREQUAL\nOP_VERIFY\nOP_DROP\nOP_ELSE\nOP_OVER\nOP_3\nOP_PICK\nOP_SUB\nOP_0\nOP_OUTPUTVALUE\nOP_OVER\nOP_GREATERTHANOREQUAL\nOP_VERIFY\nOP_DROP\nOP_ENDIF\nOP_2DROP\nOP_DROP\nOP_1"
    }
  },
  "supported": ["BCH_2022_05","BCH_2023_05", "BCH_2024_05", "BCH_2025_05","BCH_SPEC"],
  "version": 0
}
