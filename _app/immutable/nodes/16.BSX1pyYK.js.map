{"version":3,"file":"16.BSX1pyYK.js","sources":["../../../../../../src/lib/TokenNftData.svelte","../../../../../../src/routes/wallet/+page.ts","../../../../../../src/lib/images/cashTokens.svg","../../../../../../src/lib/Utxo.svelte","../../../../../../src/routes/wallet/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { parseUsername } from '@fbch/lib';\n\tlet { commitment, capability } = $props();\n</script>\n\n<div class=\"capability\">\n\t{#if capability}\n\t\t{capability} <img height=16px src={`./${capability}.svg`} /> \n\t{:else}\n\t\timmutable <img  height=16px  src={`./immutable.svg`} /> \n\t{/if}\n</div>\n\n<div class=\"commitment\">\n\t{#if commitment.startsWith('6a03553356')}\n\t\tVox: \n        <i>{parseUsername(commitment)}</i>\n\t{:else}\n\t\t{commitment}\n\t{/if}\n</div>\n\n\n\n<style>\n\t.commitment {\n\t\tword-break: break-all;\n\n\t}\n\n\t.capability {\n\t\tdisplay: flex;\n        vertical-align: middle;\n\t}\n</style>\n","// since there's no dynamic data here, we can prerender\n// it so that it gets served as a static asset in production\nexport const prerender = true;\n","export default \"__VITE_ASSET__Czgkdlz6__\"","<script lang=\"ts\">\n\timport { disassembleBytecodeBCH, hexToBin } from '@bitauth/libauth';\n\timport bch from '$lib/images/BCH.svg';\n\n    import TokenNftData from './TokenNftData.svelte'\n\timport TokenAmount from './TokenAmount.svelte';\n\timport TokenIcon from './TokenIcon.svelte';\n\n\tlet { tx_pos, tx_hash, height, value, token_data } = $props();\n</script>\n\n<div class=\"container\">\n\t<div class=\"post\">\n\t\t<div class=\"balance\">\n\t\t\t<div class=\"fill\">\n\t\t\t\t{#if token_data}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TokenAmount amount={token_data.amount} category={token_data.category}/><br/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{#if token_data.nft}\n\t\t\t\t\t\t<TokenNftData {... token_data.nft}/>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TokenIcon category={token_data.category}></TokenIcon>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{Number(value).toLocaleString(undefined, {})} sats <img width=\"20px\" src={bch} />\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"header\">\n\t\t\t<div class=\"timestamp\">{tx_hash} : {tx_pos}</div>\n\t\t\t<div class=\"fill\"></div>\n\t\t\t<div class=\"timestamp\">{height}</div>\n\t\t</div>\n\t</div>\n</div>\n\n<style>\n\t.container {\n\t\tdisplay: flex;\n\t\tpadding: 5px;\n\t}\n\t.post {\n\t\tborder-radius: 10px;\n\t\tpadding: 5px 5px 5px 15px;\n\t\tbackground-color: #eeeeee;\n\t\tmargin: auto;\n\t\twidth: 100%;\n\t\tborder: #bbb solid;\n\t\tborder-width: 1px;\n\t}\n\n\t.header {\n\t\tdisplay: flex;\n\t}\n\t.balance {\n\t\tdisplay: flex;\n\t}\n\t.hash {\n\t\tfont-size: xx-small;\n\t\tfont-weight: 200;\n\t\talign-content: flex-start;\n\t\tcolor: #857070;\n\t\tmax-width: 70%;\n\t\tword-break: break-all;\n\t}\n\t.fill {\n\t\tflex: 1;\n\t\tword-break: break-all;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t.fill div {\n\t}\n\t.fill div p {\n\t\ttext-align: right;\n\t}\n\t.timestamp {\n\t\tfont-size: xx-small;\n\t\tfont-weight: 200;\n\t\tcolor: #777;\n\t\tword-break: break-all;\n\t}\n\t.auth {\n\t\talign-content: center;\n\t\tpadding: 5px 5px 5px 5px;\n\t}\n\t.auth img {\n\t\tborder-radius: 50%;\n\t}\n\n\t.post :global {\n\t\tp {\n\t\t\tfont-weight: 400;\n\t\t\tline-height: 1;\n\t\t}\n\t}\n\n\t.post.op {\n\t\tbackground-color: #fff;\n\t}\n\n\t.error {\n\t\tcolor: brown;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { onMount, onDestroy } from 'svelte';\n\timport { page } from '$app/state';\n\timport walletIcon from '$lib/images/hot.svg';\n\timport hot from '$lib/images/hot.svg';\n\timport hotCT from '$lib/images/cashTokens.svg';\n\timport bch from '$lib/images/BCH.svg';\n\n\timport { cashAddressToLockingBytecode, stringify, swapEndianness } from '@bitauth/libauth';\n\timport { blo } from 'blo';\n\n\timport { getScriptHash, sumUtxoValue, type UtxoI } from '@unspent/tau';\n\n\timport { ElectrumClient, ConnectionStatus } from '@electrum-cash/network';\n\n\timport { IndexedDBProvider } from '@mainnet-cash/indexeddb-storage';\n\timport { BaseWallet, Wallet, TestNetWallet, TokenSendRequest } from 'mainnet-js';\n\n\timport CONNECTED from '$lib/images/connected.svg';\n\timport DISCONNECTED from '$lib/images/disconnected.svg';\n\timport Utxo from '$lib/Utxo.svelte';\n\n\tconst isMainnet = page.url.hostname == 'vox.cash';\n\tlet server = isMainnet ? 'bch.imaginary.cash' : 'chipnet.bch.ninja';\n\n\tlet now = $state(0);\n\tlet wallet: Wallet | TestNetWallet | undefined = $state();\n\tlet walletError = false;\n\tlet balance = $state(0);\n\tlet electrumClient: any;\n\tlet connectionError = $state('');\n\tlet showTokenAddress = $state(true);\n\tlet history: any[];\n\tlet unspent: UtxoI[] = $state([]);\n\tlet showInfo = $state(false);\n\tlet scripthash = $state('');\n\n\tlet showHistory = $state(false);\n\tlet cancelWatch: any;\n\n\tconst handleNotifications = function (data: any) {\n\t\tif (data.method === 'blockchain.headers.subscribe') {\n\t\t\tlet d = data.params[0];\n\t\t\tnow = d.height;\n\t\t} else if (data.method === 'blockchain.scripthash.subscribe') {\n\t\t\tupdateWallet();\n\t\t} else {\n\t\t\tconsole.log(data);\n\t\t}\n\t};\n\n\tasync function consolidateFungibleTokens() {\n\t\tconst cashaddr = wallet.getTokenDepositAddress();\n\t\tlet utxos = (await wallet.getUtxos())\n\t\t\t.filter((u: any) => u.token)\n\t\t\t.filter((u: any) => !u.token.capability);\n\t\tconsole.log(utxos);\n\t\t// Get a list of\n\t\tconst categories = [\n\t\t\t...new Set(\n\t\t\t\tutxos.map((u: any) => {\n\t\t\t\t\treturn u.token.tokenId;\n\t\t\t\t})\n\t\t\t)\n\t\t];\n\n\t\tlet sendRequests = categories.map((tokenId: any) => {\n\t\t\tconst sumTokens = utxos\n\t\t\t\t.filter((u: any) => u.token.tokenId == tokenId && u.token.amount > 0n)\n\t\t\t\t.map((u: any) => u.token.amount || 0n)\n\t\t\t\t.reduce((a: any, b: any) => a + b, 0n);\n\t\t\treturn new TokenSendRequest({\n\t\t\t\tcashaddr: cashaddr,\n\t\t\t\tvalue: 800,\n\t\t\t\tamount: sumTokens,\n\t\t\t\ttokenId: tokenId\n\t\t\t});\n\t\t});\n\n\t\treturn await wallet.send(sendRequests);\n\t}\n\n\tasync function consolidateSats() {\n\t\treturn await wallet!.sendMax(wallet!.getDepositAddress());\n\t}\n\n\tconst toggleSeed = () => {\n\t\tshowInfo = !showInfo;\n\t};\n\n\tconst updateWallet = async function () {\n\t\tconsole.log('updating wallet...');\n\t\tlet response = await electrumClient.request(\n\t\t\t'blockchain.scripthash.listunspent',\n\t\t\tscripthash,\n\t\t\t'include_tokens'\n\t\t);\n\t\tif (response instanceof Error) throw response;\n\t\tunspent = response;\n\n\t\tbalance = sumUtxoValue(unspent as UtxoI[], true);\n\t};\n\n\tonMount(async () => {\n\t\ttry {\n\t\t\t\n\t\t\tBaseWallet.StorageProvider = IndexedDBProvider;\n\t\t\twallet = isMainnet ? await Wallet.named(`vox`) : await TestNetWallet.named(`vox`) ;\n\n\t\t\tbalance = (await wallet.getBalance('sat')) as number;\n\n\t\t\tlet lockingBytecode = cashAddressToLockingBytecode(wallet.getDepositAddress());\n\t\t\tif (typeof lockingBytecode == 'string') throw lockingBytecode;\n\t\t\tscripthash = getScriptHash(lockingBytecode.bytecode, true);\n\t\t\t// Initialize an electrum client.\n\t\t\telectrumClient = new ElectrumClient('vox/wallet', '1.4.1', server);\n\n\t\t\ttry {\n\t\t\t\t// Wait for the client to connect.\n\t\t\t\tawait electrumClient.connect();\n\t\t\t\t// Set up a callback function to handle new blocks.\n\t\t\t} catch (e) {\n\t\t\t\tconnectionError = e;\n\t\t\t}\n\n\t\t\t// Listen for notifications.\n\t\t\telectrumClient.on('notification', handleNotifications);\n\n\t\t\t// Set up a subscription for new block headers.\n\t\t\tawait electrumClient.subscribe('blockchain.scripthash.subscribe', scripthash);\n\t\t\tawait electrumClient.subscribe('blockchain.headers.subscribe');\n\n\t\t\tawait updateWallet();\n\t\t} catch (e) {\n\t\t\twalletError = true;\n\t\t\tthrow e;\n\t\t}\n\t});\n\n\tonDestroy(async () => {\n\t\tawait wallet!.provider.disconnect();\n\t\tawait electrumClient.disconnect();\n\t});\n</script>\n\n<section>\n\t<div class=\"status\">\n\t\t<div class=\"scanable\">\n\t\t\t{#if wallet}\n\t\t\t\t{#if !showTokenAddress}\n\t\t\t\t\t<button\n\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\tshowTokenAddress = !showTokenAddress;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\taria-label=\"toggle address\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<qr-code\n\t\t\t\t\t\t\tid=\"qr1\"\n\t\t\t\t\t\t\tcontents={wallet.getDepositAddress()}\n\t\t\t\t\t\t\tmodule-color=\"#000\"\n\t\t\t\t\t\t\tposition-ring-color=\"#8dc351\"\n\t\t\t\t\t\t\tposition-center-color=\"#ff00ec\"\n\t\t\t\t\t\t\tmask-x-to-y-ratio=\"1.2\"\n\t\t\t\t\t\t\tstyle=\"width: 150px;\n                height: 150px;\n                margin: 0.5em auto;\n                background-color: #fff;\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={hot} width=\"30px\" slot=\"icon\" />\n\t\t\t\t\t\t</qr-code>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<p id=\"deposit\" style=\"text-align: center;\">{wallet.getDepositAddress()}</p>\n\t\t\t\t{:else}\n\t\t\t\t\t<button\n\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\tshowTokenAddress = !showTokenAddress;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\taria-label=\"toggle address\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<qr-code\n\t\t\t\t\t\t\tid=\"qr1\"\n\t\t\t\t\t\t\tcontents={wallet.getTokenDepositAddress()}\n\t\t\t\t\t\t\tmodule-color=\"#000\"\n\t\t\t\t\t\t\tposition-ring-color=\"#8dc351\"\n\t\t\t\t\t\t\tposition-center-color=\"#ff00ec\"\n\t\t\t\t\t\t\tmask-x-to-y-ratio=\"1.2\"\n\t\t\t\t\t\t\tstyle=\"width: 150px;\n                height: 150px;\n                margin: 0.5em auto;\n                background-color: #fff;\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={hotCT} width=\"30px\" slot=\"icon\" />\n\t\t\t\t\t\t</qr-code>\n\t\t\t\t\t</button>\n\t\t\t\t\t<p id=\"deposit\" style=\"text-align: center;\">{wallet.getTokenDepositAddress()}</p>\n\t\t\t\t{/if}\n\t\t\t{/if}\n\t\t\t{#if connectionError}\n\t\t\t\t<b>{connectionError}</b>\n\t\t\t{/if}\n\t\t\t{#if balance >= 0}\n\t\t\t\t<div>\n\t\t\t\t\t{balance!.toLocaleString()} sats\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t{#if unspent}\n\t\t\t{#if unspent!.length > 0}\n\t\t\t\t<h3>Unspent Outputs (coins)</h3>\n\t\t\t\t{#each unspent! as u, i (u.tx_hash + ':' + u.tx_pos)}\n\t\t\t\t\t<Utxo {...u} />\n\t\t\t\t{/each}\n\n\t\t\t\t<div class=\"walletHead\">\n\t\t\t\t\t<button onclick={() => consolidateFungibleTokens()}> Consolidate Tokens</button>\n\t\t\t\t\t<button onclick={() => consolidateSats()}> Consolidate Sats</button>\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t<p>no wallet utxos available</p>\n\t\t\t{/if}\n\t\t{:else}\n\t\t\t<p>loading wallet...</p>\n\t\t{/if}\n\n\t\t{#if wallet}\n\t\t\t<div class=\"showSeed\">\n\t\t\t\t<button onclick={toggleSeed}>Show/hide backup</button>\n\t\t\t\t{#if showInfo}\n\t\t\t\t\t<h3>DO NOT SHARE WITH ANYONE!</h3>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{wallet!.toDbString()}\n\t\t\t\t\t</p>\n\t\t\t\t\tNote: vox.cash {new Date().toLocaleDateString()}\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div class=\"history\">\n\t\t\t\t<button\n\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\tshowHistory = !showHistory;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tShow/hide History\n\t\t\t\t</button>\n\t\t\t\t{#if showHistory}\n\t\t\t\t\t<h3>History</h3>\n\t\t\t\t\t{#await wallet!.getHistory('sat', 0, 10, true)}\n\t\t\t\t\t\t<p>...getting history</p>\n\t\t\t\t\t{:then history}\n\t\t\t\t\t\t{#if history.length > 0}\n\t\t\t\t\t\t\t{#each history as c, i (c.hash)}\n\t\t\t\t\t\t\t\t{#if c!.timestamp > 0}\n\t\t\t\t\t\t\t\t\t<pre>{new Date(c!.timestamp * 1000).toISOString()}</pre>\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<pre>{new Date().toISOString()}</pre>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t<pre># {c.blockHeight}â–  {c.hash} </pre>\n\t\t\t\t\t\t\t\t<pre>  assets:cash    {c.valueChange.toLocaleString().padStart(14)} sat</pre>\n\t\t\t\t\t\t\t\t<pre>  expenses:fees  {c.fee\n\t\t\t\t\t\t\t\t\t\t.toLocaleString()\n\t\t\t\t\t\t\t\t\t\t.padStart(14)} sat # {c.size} bytes</pre>\n\t\t\t\t\t\t\t\t{#each c.tokenAmountChanges as tokenChange}\n\t\t\t\t\t\t\t\t\t{#if tokenChange.amount != 0n}\n\t\t\t\t\t\t\t\t\t\t<pre>  assets:cash:tokens  {tokenChange.amount.toLocaleString()} {tokenChange.tokenId} </pre>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t<pre>   &nbsp;</pre>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<p>no history</p>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{:catch error}\n\t\t\t\t\t\t<p style=\"color: red\">{error.message}</p>\n\t\t\t\t\t{/await}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</section>\n\n<style>\n\tpre {\n\t\tmargin-block: 0px;\n\t\tpadding: 0px;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t}\n\n\ttable {\n\t\twidth: 100%;\n\t\tborder-collapse: separate;\n\t}\n\tthead tr {\n\t\ttext-align: center;\n\t\tfont-weight: 900;\n\t}\n\n\ttbody tr:nth-child(odd) {\n\t\tbackground-color: #fd70da2a;\n\t}\n\ttbody tr:nth-child(even) {\n\t\tbackground-color: #e495e42c;\n\t}\n\ttbody tr {\n\t\tborder-radius: 10px;\n\t}\n\ttbody tr td {\n\t\tpadding: 4px;\n\t}\n\n\t.scanable {\n\t\tpadding: 60px;\n\t\tbackground-color: white;\n\t\tborder-radius: 30px;\n\t\tdisplay: grid;\n\t}\n\t.scanable div {\n\t\ttext-align: center;\n\t}\n\n\t.scanable button {\n\t\ttext-align: center;\n\t\tbackground-color: #fff;\n\t}\n\n\tbutton {\n\t\tbackground-color: #a45eb6; /* Green */\n\t\tborder: none;\n\t\tcolor: white;\n\t\tpadding: 15px 15px;\n\t\tborder-radius: 20px;\n\t\ttext-align: center;\n\t\ttext-decoration: none;\n\t\tdisplay: inline-block;\n\t\tfont-size: 16px;\n\t\tmargin: auto;\n\t}\n\n\t.walletHead {\n\t\tpadding: 15px 15px;\n\t\tdisplay: flex;\n\t}\n\n\t.showSeed {\n\t\tpadding: 25px;\n\t}\n\n\t.r {\n\t\ttext-align: right;\n\t\tvertical-align: middle;\n\n\t\tmax-width: 90px;\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t}\n</style>\n"],"names":["parseUsername","$$props","$$render","consequent_1","alternate_1","prerender","hotCT","consequent","bch","toggleSeed","_","showInfo","$.set","on_click","__1","showTokenAddress","on_click_1","__2","consolidateFungibleTokens","consolidateSats","on_click_4","__5","showHistory","isMainnet","page","server","now","wallet","$.state","balance","electrumClient","connectionError","unspent","$.proxy","scripthash","handleNotifications","data","d","updateWallet","cashaddr","$.get","utxos","u","sendRequests","tokenId","sumTokens","a","b","TokenSendRequest","response","sumUtxoValue","onMount","BaseWallet","IndexedDBProvider","Wallet","TestNetWallet","lockingBytecode","cashAddressToLockingBytecode","getScriptHash","ElectrumClient","e","onDestroy","$.template_effect","$.set_custom_element_data","qr_code","hot","qr_code_1","alternate","consequent_2","$0","$.set_text","text_3","consequent_3","$.each","node_6","consequent_4","consequent_5","alternate_2","consequent_6","history","node_12","c","text_7","consequent_7","alternate_3","$.index","$$anchor","tokenChange","text_11","consequent_8","text_8","text_10","$1","consequent_9","alternate_4","error","text_12","consequent_10","consequent_11"],"mappings":"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"}