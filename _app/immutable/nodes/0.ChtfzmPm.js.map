{"version":3,"file":"0.ChtfzmPm.js","sources":["../../../../../../../../node_modules/.pnpm/svelte@5.33.18/node_modules/svelte/src/internal/client/dom/blocks/snippet.js","../../../../../../src/routes/+layout.js","../../../../../../src/lib/images/vox.svg","../../../../../../src/routes/Header.svelte","../../../../../../src/routes/+layout.svelte"],"sourcesContent":["/** @import { Snippet } from 'svelte' */\n/** @import { Effect, TemplateNode } from '#client' */\n/** @import { Getters } from '#shared' */\nimport { EFFECT_TRANSPARENT } from '#client/constants';\nimport { branch, block, destroy_effect, teardown } from '../../reactivity/effects.js';\nimport {\n\tdev_current_component_function,\n\tset_dev_current_component_function\n} from '../../context.js';\nimport { hydrate_next, hydrate_node, hydrating } from '../hydration.js';\nimport { create_fragment_from_html } from '../reconciler.js';\nimport { assign_nodes } from '../template.js';\nimport * as w from '../../warnings.js';\nimport * as e from '../../errors.js';\nimport { DEV } from 'esm-env';\nimport { get_first_child, get_next_sibling } from '../operations.js';\nimport { noop } from '../../../shared/utils.js';\nimport { prevent_snippet_stringification } from '../../../shared/validate.js';\n\n/**\n * @template {(node: TemplateNode, ...args: any[]) => void} SnippetFn\n * @param {TemplateNode} node\n * @param {() => SnippetFn | null | undefined} get_snippet\n * @param {(() => any)[]} args\n * @returns {void}\n */\nexport function snippet(node, get_snippet, ...args) {\n\tvar anchor = node;\n\n\t/** @type {SnippetFn | null | undefined} */\n\t// @ts-ignore\n\tvar snippet = noop;\n\n\t/** @type {Effect | null} */\n\tvar snippet_effect;\n\n\tblock(() => {\n\t\tif (snippet === (snippet = get_snippet())) return;\n\n\t\tif (snippet_effect) {\n\t\t\tdestroy_effect(snippet_effect);\n\t\t\tsnippet_effect = null;\n\t\t}\n\n\t\tif (DEV && snippet == null) {\n\t\t\te.invalid_snippet();\n\t\t}\n\n\t\tsnippet_effect = branch(() => /** @type {SnippetFn} */ (snippet)(anchor, ...args));\n\t}, EFFECT_TRANSPARENT);\n\n\tif (hydrating) {\n\t\tanchor = hydrate_node;\n\t}\n}\n\n/**\n * In development, wrap the snippet function so that it passes validation, and so that the\n * correct component context is set for ownership checks\n * @param {any} component\n * @param {(node: TemplateNode, ...args: any[]) => void} fn\n */\nexport function wrap_snippet(component, fn) {\n\tconst snippet = (/** @type {TemplateNode} */ node, /** @type {any[]} */ ...args) => {\n\t\tvar previous_component_function = dev_current_component_function;\n\t\tset_dev_current_component_function(component);\n\n\t\ttry {\n\t\t\treturn fn(node, ...args);\n\t\t} finally {\n\t\t\tset_dev_current_component_function(previous_component_function);\n\t\t}\n\t};\n\n\tprevent_snippet_stringification(snippet);\n\n\treturn snippet;\n}\n\n/**\n * Create a snippet programmatically\n * @template {unknown[]} Params\n * @param {(...params: Getters<Params>) => {\n *   render: () => string\n *   setup?: (element: Element) => void | (() => void)\n * }} fn\n * @returns {Snippet<Params>}\n */\nexport function createRawSnippet(fn) {\n\t// @ts-expect-error the types are a lie\n\treturn (/** @type {TemplateNode} */ anchor, /** @type {Getters<Params>} */ ...params) => {\n\t\tvar snippet = fn(...params);\n\n\t\t/** @type {Element} */\n\t\tvar element;\n\n\t\tif (hydrating) {\n\t\t\telement = /** @type {Element} */ (hydrate_node);\n\t\t\thydrate_next();\n\t\t} else {\n\t\t\tvar html = snippet.render().trim();\n\t\t\tvar fragment = create_fragment_from_html(html);\n\t\t\telement = /** @type {Element} */ (get_first_child(fragment));\n\n\t\t\tif (DEV && (get_next_sibling(element) !== null || element.nodeType !== 1)) {\n\t\t\t\tw.invalid_raw_snippet_render();\n\t\t\t}\n\n\t\t\tanchor.before(element);\n\t\t}\n\n\t\tconst result = snippet.setup?.(element);\n\t\tassign_nodes(element, element);\n\n\t\tif (typeof result === 'function') {\n\t\t\tteardown(result);\n\t\t}\n\t};\n}\n","export const prerender = true;\nexport const ssr = false;\nexport async function load({ url }) {\n\tlet isLocal = url.hostname.includes('localhost') || url.hostname.includes('127.0.0.1') ? true : false;\n\tlet isDevelopment = url.hostname.includes('unspent.dev') ? true : false;\n\treturn { isLocal, isDevelopment };\n}","export default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTYgMTYnIHN0eWxlPSd3aWR0aDo0MDBweDsgaGVpZ2h0OjQwMHB4Oyc+CiAgPHBhdGgKICAgICBzdHlsZT0iZmlsbDojZmYwMGVjIgogICAgIGQ9Im0gNCwxIGggOCBjIDEuNjYsMCAzLjQsMS40IDMsMyBsIC0yLDggYyAtMC40MDMwOTQsMS42MTIzNzcgLTEuMzM4LDMgLTMsMyBIIDYgQyA0LjMzOCwxNSAzLjQsMTMuNiAzLDEyIEwgMSw0IEMgMC42LDIuNDIgMi4zMzgsMSA0LDEgWiIgLz4KICA8cGF0aAogICAgIGQ9Ik0gMywzIEggNiBMIDgsOS41IEMgOSw2IDkuMzEsNSAxMCwzIEwgMTMsMyA5LjUsMTMgNi41LDEzIFoiCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZiIgLz4KPC9zdmc+Cg==\"","<script lang=\"ts\">\n\timport { onMount } from 'svelte';\n\timport { page } from '$app/state';\n\timport logo from '$lib/images/vox.svg';\n\timport walletIcon from '$lib/images/hot.svg';\n\n\timport { IndexedDBProvider } from '@mainnet-cash/indexeddb-storage';\n\timport { BaseWallet, Wallet, TestNetWallet } from 'mainnet-js';\n\n\tlet data;\n\tlet wallet: any;\n\tlet walletError = false;\n\tlet balance: number;\n\n\tonMount(async () => {\n\t\ttry {\n\t\t\tconst isTestnet = page.url.hostname !== 'vox.cash';\n\t\t\tBaseWallet.StorageProvider = IndexedDBProvider;\n\t\t\twallet = isTestnet ? await TestNetWallet.named(`vox`) : await Wallet.named(`vox`);\n\t\t\tbalance = (await wallet.getBalance('bch')).toLocaleString({maximumSignificantDigits:2});\n\t\t} catch (e) {\n\t\t\twalletError = true;\n\t\t\tthrow e;\n\t\t}\n\t});\n</script>\n\n{#if page.url.hostname.includes('127.0.0.1') || page.url.hostname.includes('localhost')}\n\t<div class=\"local\">This is a local development instance.</div>\n{:else if page.url.hostname.includes('unspent.dev')}\n\t<div class=\"dev\">\n\t\tThis is an <b>unstable</b> development version running on <b>chipnet</b>. Please go to\n\t\t<a href=\"https://vox.cash\">vox.cash</a> instead.\n\t</div>\n{:else}\n\t<div class=\"dev\">\n\t\tThis is an <b>unstable ALPHA</b> release. Assume ALL funds can be lost.\n\t</div>\n{/if}\n\n<header>\n\t<div class=\"corner\">\n\t\t<a href=\"/\">\n\t\t\t<img src={logo} alt=\"Vox\" />\n\t\t</a>\n\t</div>\n\n\t<nav>\n\t\t<svg viewBox=\"0 0 2 3\" aria-hidden=\"true\">\n\t\t\t<path d=\"M0,0 L1,2 C1.5,3 1.5,3 2,3 L2,0 Z\" />\n\t\t</svg>\n\t\t<ul>\n\t\t\t<li aria-current={page.url.pathname === '/wallet' ? 'page' : undefined}>\n\t\t\t\t{#if wallet}\n\t\t\t\t\t{#if walletError}\n\t\t\t\t\t\t⚠️\n\t\t\t\t\t{/if}\n\t\t\t\t\t<a href=\"/wallet\">\n\t\t\t\t\t\t{#if typeof balance !== 'undefined'}\n\t\t\t\t\t\t\t{balance} BCH\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t0 BCH\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<img width=\"30\" src={walletIcon} alt=\"wallet\" />\n\t\t\t\t\t</a>\n\t\t\t\t{/if}\n\t\t\t</li>\n\t\t</ul>\n\t\t<svg viewBox=\"0 0 2 3\" aria-hidden=\"true\">\n\t\t\t<path d=\"M0,0 L0,3 C0.5,3 0.5,3 1,2 L2,0 Z\" />\n\t\t</svg>\n\t</nav>\n\t<div></div>\n</header>\n\n<style>\n\theader {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\n\t.dev {\n\t\tbackground-color: rgb(255, 225, 0);\n\t\tfont-weight: 900;\n\t\tmin-height: 50px;\n\t\tcolor: rgb(0, 0, 0);\n\t\ttext-align: center;\n\t}\n\n\t.local {\n\t\twidth: 100%;\n\t\tbackground-color: rgb(255, 0, 255);\n\t\tfont-weight: 900;\n\t\tmin-height: 50px;\n\t\tcolor: white;\n\t\ttext-align: center;\n\t}\n\n\t\n\n\t\n\n    li a img {\n\t\tcolor: black;\n\t\tpadding: 10px;\n\t}\n\n\t.corner {\n\t\theight: 3em;\n\t}\n\n\t.corner a {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.corner img {\n\t\twidth: 2em;\n\t\theight: 2em;\n\t\tobject-fit: contain;\n\t}\n\n\tnav {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\t--background: rgba(255, 255, 255, 0.7);\n\t}\n\n\tsvg {\n\t\twidth: 2em;\n\t\theight: 3em;\n\t\tdisplay: block;\n\t}\n\n\tpath {\n\t\tfill: var(--background);\n\t}\n\n\tul {\n\t\tposition: relative;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\theight: 3em;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tlist-style: none;\n\t\tbackground: var(--background);\n\t\tbackground-size: contain;\n\t}\n\n\tli {\n\t\tposition: relative;\n\t\theight: 100%;\n\t}\n\n\tli[aria-current='page']::before {\n\t\t--size: 6px;\n\t\tcontent: '';\n\t\twidth: 0;\n\t\theight: 0;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: calc(50% - var(--size));\n\t\tborder: var(--size) solid transparent;\n\t\tborder-top: var(--size) solid var(--color-theme-1);\n\t}\n\n\tnav a {\n\t\tdisplay: flex;\n\t\theight: 100%;\n\t\talign-items: center;\n\t\tpadding: 0 0.5rem;\n\t\tcolor: var(--color-text);\n\t\tfont-weight: 700;\n\t\tfont-size: 0.8rem;\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.1em;\n\t\ttext-decoration: none;\n\t\ttransition: color 0.2s linear;\n\t}\n\n\ta:hover {\n\t\tcolor: var(--color-theme-1);\n\t}\n</style>\n","<script lang=\"ts\">\n\t//import { onMount } from 'svelte';\n\n\timport { assets } from '$app/paths';\n\timport { page } from '$app/state';\n\timport Header from './Header.svelte';\n\timport '../app.css';\n\n\t// import type { PostMessage, PostMessageDataRequest, PostMessageDataResponse }  from '$lib/post-message';\n\t// let sharedWorker: SharedWorker | undefined = undefined;\n\n\t// const onWorkerMessage = ({\n\t// \tdata: { msg, data }\n\t// }: MessageEvent<PostMessage<PostMessageDataResponse>>) => {\n\t// \tconsole.log(msg, data);\n\t// };\n\n\t// const loadWorker = async () => {\n\t// \tconst SharedWorker = await import('$lib/worker?sharedworker');\n\t// \tsharedWorker = new SharedWorker.default();\n\n\t// \tsharedWorker.port.onmessage = onWorkerMessage;\n\n\t// \tconst message: PostMessage<PostMessageDataRequest> = {\n\t// \t\tmsg: 'request1',\n\t// \t\tdata: { text: 'Hello World v2 🤪' }\n\t// \t};\n\t// \tsharedWorker.port.postMessage(message);\n\t// };\n\n\t// onMount(loadWorker);\n\n\tlet { children } = $props();\n</script>\n\n<div class=\"app\">\n\t<Header />\n\n\t<main>\n\t\t{@render children()}\n\t</main>\n\n\t<footer>\n\t\t<p>\n\t\t\t<a href=\"/pop/p2p\">bitcoin</a> ■ <a href=\"/pop/free\">freedom</a>\n\t\t\t■ <a href=\"/pop/biz\">markets</a> ■ <a href=\"/pop/pow\">mining</a>\n\t\t</p>\n\t\t<p><a href=\"https://github.com/2qx/vox\" target=\"_blank\">Open source</a></p>\n\t</footer>\n\n\t{#if page.url.hostname.includes('127.0.0.1') || page.url.hostname.includes('localhost')}\n\t\t<div class=\"uc-local\">\n\t\t\t<img src=\"{assets}/dev/localhost.png\" alt=\"local\" />\n\t\t</div>\n\t{/if}\n\n\t{#if page.url.hostname.includes('unspent.dev')}\n\t\t<div class=\"uc-image\">\n\t\t\t<img src=\"{assets}/dev/under_construction.gif\" alt=\"Whao!\" />\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.app {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100vh;\n\t}\n\n\tmain {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding: 1rem;\n\t\twidth: 100%;\n\t\tmax-width: 40rem;\n\t\tmargin: 0 auto;\n\t\tbox-sizing: border-box;\n\t}\n\n\tfooter {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpadding: 12px;\n\t}\n\n\t.uc-image {\n\t\tposition: fixed;\n\t\talign-self: center;\n\t\tbottom: 2em;\n\t}\n\n\t.uc-image img {\n\t\twidth: 20px;\n\t}\n\t.uc-local {\n\t\ttop: 5em;\n\t\tz-index: 1;\n\t\tpointer-events: none;\n\t}\n\n\t@media (min-width: 480px) {\n\t\tfooter {\n\t\t\tpadding: 12px 0;\n\t\t}\n\t}\n</style>\n"],"names":["snippet","node","get_snippet","args","anchor","noop","snippet_effect","block","destroy_effect","branch","EFFECT_TRANSPARENT","hydrating","hydrate_node","prerender","ssr","load","url","isLocal","isDevelopment","logo","wallet","$.mutable_source","walletError","balance","onMount","isTestnet","page","$$_import_BaseWallet","IndexedDBProvider","TestNetWallet","Wallet","$.get","e","$.set","$$render","consequent_1","alternate_1","consequent","alternate","consequent_2","consequent_3","alternate_2","walletIcon","consequent_4","assets"],"mappings":"ypBA0BO,SAASA,GAAQC,EAAMC,KAAgBC,EAAM,CACnD,IAAIC,EAASH,EAITD,EAAUK,EAGVC,EAEJC,EAAM,IAAM,CACPP,KAAaA,EAAUE,EAAW,KAElCI,IACHE,EAAeF,CAAc,EAC7BA,EAAiB,MAOlBA,EAAiBG,EAAO,IAAgCT,EAASI,EAAQ,GAAGD,CAAI,CAAC,EACjF,EAAEO,CAAkB,EAEjBC,IACHP,EAASQ,GAEX,CCtDO,MAAMC,GAAY,GACZC,GAAM,GACZ,eAAeC,GAAK,CAAE,IAAAC,GAAO,CACnC,IAAIC,EAAU,GAAAD,EAAI,SAAS,SAAS,WAAW,GAAKA,EAAI,SAAS,SAAS,WAAW,GACjFE,EAAgB,EAAAF,EAAI,SAAS,SAAS,aAAa,EACvD,MAAO,CAAE,QAAAC,EAAS,cAAAC,CAAe,CAClC,iICNeC,GAAA,4tDCUVC,EAAWC,EAAA,EACXC,IAAc,EAAK,EACnBC,EAAeF,EAAA,EAEnBG,GAAoB,SAAA,CACf,GAAA,CACG,MAAAC,EAAYC,EAAK,IAAI,WAAa,WAC7BC,EAAAA,EAAA,EAAA,gBAAkBC,EAAiB,IAC9CR,EAASK,EAAkB,MAAAI,GAAc,MAAK,KAAA,EAAA,MAAgBC,GAAO,MAAK,KAAA,CAAA,IAC1EP,GAAO,MAAAQ,EAAUX,CAAM,EAAC,WAAW,KAAK,GAAG,eAAc,CAAE,yBAAyB,CAAC,CAAA,CAAA,CACrF,OAAQY,EAAG,CACXC,MAAAA,EAAAX,EAAc,EAAI,EACZU,CACP,EACA,gIAKQN,EAAK,IAAI,SAAS,SAAS,aAAa,EAAAQ,EAAAC,CAAA,EAAAD,EAAAE,EAAA,EAAA,gBAF7CV,EAAK,IAAI,SAAS,SAAS,WAAW,GAAKA,EAAK,IAAI,SAAS,SAAS,WAAW,EAAAQ,EAAAG,CAAA,EAAAH,EAAAI,EAAA,EAAA,+JA2B5EhB,CAAW,GAAAY,EAAAK,CAAA,6DAKbhB,CAAO,GAAA,EAAA,MAAA,CAAA,iDADG,OAAAQ,EAAAR,CAAO,EAAK,IAAWW,EAAAM,CAAA,EAAAN,EAAAO,EAAA,EAAA,sCAKdC,EAAU,CAAA,oBAV5BtB,CAAM,GAAAc,EAAAS,CAAA,mDAVFxB,EAAI,qBASIO,EAAK,IAAI,WAAa,UAAY,OAAS,MAAS,yrBCA3DkB,GAAM,EAAA,oBAAA,CAAA,mBAFdlB,EAAK,IAAI,SAAS,SAAS,WAAW,GAAKA,EAAK,IAAI,SAAS,SAAS,WAAW,IAAAQ,EAAAG,CAAA,sEAQzEO,GAAM,EAAA,6BAAA,CAAA,kBAFdlB,EAAK,IAAI,SAAS,SAAS,aAAa,GAAAQ,EAAAC,CAAA","x_google_ignoreList":[0]}