{"version":3,"file":"5.CIKHnUaY.js","sources":["../../../../../../src/routes/bpt/+page.ts","../../../../../../src/lib/images/tBPTS.svg","../../../../../../src/lib/images/BPTS.svg","../../../../../../../blockpoint/out/index.js","../../../../../../src/routes/bpt/+page.svelte"],"sourcesContent":["export const prerender = true;","export default \"data:image/svg+xml,%3csvg%20style='height:400px;width:400px'%20version='1.1'%20viewBox='0%200%2016%2016'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3clinearGradient%20id='a'%20gradientTransform='rotate(75)'%3e%3cstop%20stop-color='%23f00'%20offset='.05'/%3e%3cstop%20stop-color='%2300808099'%20offset='.95'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='m6%201c-2.77%200-5%202.23-5%205v4c0%202.77%202.23%205%205%205h4c2.77%200%205-2.23%205-5v-4c0-2.77-2.23-5-5-5h-4zm2%206a1%201%200%200%201%201%201%201%201%200%200%201-1%201%201%201%200%200%201-1-1%201%201%200%200%201%201-1z'%20fill='url(%23a)'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20style='width:400px;%20height:400px;'%3e%3cdefs%3e%3clinearGradient%20id='grad'%20gradientTransform='rotate(75)'%3e%3cstop%20offset='5%25'%20stop-color='aqua'%20/%3e%3cstop%20offset='95%25'%20stop-color='%2300808099'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20style='fill:url(%23grad)'%20d='M%206%201%20C%203.23%201%201%203.23%201%206%20L%201%2010%20C%201%2012.77%203.23%2015%206%2015%20L%2010%2015%20C%2012.77%2015%2015%2012.77%2015%2010%20L%2015%206%20C%2015%203.23%2012.77%201%2010%201%20L%206%201%20z%20M%208%207%20A%201%201%200%200%201%209%208%20A%201%201%200%200%201%208%209%20A%201%201%200%200%201%207%208%20A%201%201%200%200%201%208%207%20z%20'%20/%3e%3c/svg%3e\"","import template from './template.v3.json' with { type: \"json\" };\nimport packageInfo from '../package.json' with { type: \"json\" };\nimport { bigIntToVmNumber, createVirtualMachineBch, deriveHdPublicKey, generateTransaction, hdPrivateKeyToP2pkhLockingBytecode, hexToBin, verifyTransactionTokens } from '@bitauth/libauth';\nimport { getTransactionFees, getAddress, getLibauthCompiler, getScriptHash, sumSourceOutputValue, sumSourceOutputTokenAmounts } from '@unspent/tau';\nexport const BPTS = hexToBin('7fe0cd5197494e47ade81eb164dcdbd51859ffbe581fe4a818085d56b2f3062c');\nexport const tBPTS = hexToBin('ffc9d3b3488e890ef113b1c74f40e1f5eb1147a7d4191cecac89fd515721a271');\nexport default class BlockPoint {\n    static USER_AGENT = packageInfo.name;\n    static tokenAware = true;\n    static template = template;\n    static compiler = getLibauthCompiler(this.template);\n    static vm = createVirtualMachineBch();\n    static getLockingBytecode(data = {}) {\n        const lockingBytecodeResult = this.compiler.generateBytecode({\n            data: data,\n            scriptId: 'lock'\n        });\n        if (!lockingBytecodeResult.success)\n            throw new Error('Failed to generate bytecode, script: , ' + JSON.stringify(lockingBytecodeResult, null, '  '));\n        return lockingBytecodeResult.bytecode;\n    }\n    static getScriptHash(reversed = true) {\n        return getScriptHash(this.getLockingBytecode(), reversed);\n    }\n    /**\n     * Get cashaddress\n     *\n     * @param prefix - cashaddress prefix.\n     * @throws {Error} if transaction generation fails.\n     * @returns a cashaddress.\n     */\n    static getAddress(prefix = \"bitcoincash\") {\n        return getAddress(this.getLockingBytecode(), prefix, this.tokenAware);\n    }\n    static getSourceOutput(utxo) {\n        return {\n            lockingBytecode: this.getLockingBytecode(),\n            valueSatoshis: BigInt(utxo.value),\n            token: {\n                category: hexToBin(utxo.token_data.category),\n                amount: BigInt(utxo.token_data?.amount)\n            }\n        };\n    }\n    static getInput(utxo, age) {\n        return {\n            outpointIndex: utxo.tx_pos,\n            outpointTransactionHash: hexToBin(utxo.tx_hash),\n            sequenceNumber: age,\n            unlockingBytecode: {\n                data: {\n                    \"bytecode\": {\n                        \"age\": bigIntToVmNumber(BigInt(age))\n                    }\n                },\n                compiler: this.compiler,\n                script: 'unlock',\n                valueSatoshis: BigInt(utxo.value),\n            },\n        };\n    }\n    static getOutput(utxo, amount, age) {\n        return {\n            lockingBytecode: {\n                data: {\n                    \"bytecode\": {\n                        \"age\": bigIntToVmNumber(BigInt(age))\n                    }\n                },\n                compiler: this.compiler,\n                script: 'lock'\n            },\n            valueSatoshis: BigInt(utxo.value),\n            token: {\n                category: hexToBin(utxo.token_data.category),\n                amount: BigInt(utxo.token_data?.amount) - BigInt(amount)\n            }\n        };\n    }\n    static getWalletSourceOutput(utxo, key) {\n        const lockingBytecode = key ? hdPrivateKeyToP2pkhLockingBytecode({\n            addressIndex: 0,\n            hdPrivateKey: key\n        }) : Uint8Array.from(Array(33));\n        return {\n            lockingBytecode: lockingBytecode,\n            valueSatoshis: BigInt(utxo.value),\n            token: utxo.token_data ? {\n                category: hexToBin(utxo.token_data.category),\n                amount: BigInt(utxo.token_data?.amount)\n            } : undefined\n        };\n    }\n    static getWalletInput(utxo, age, privateKey, addressIndex = 0) {\n        const unlockingData = privateKey ? {\n            compiler: this.compiler,\n            data: {\n                hdKeys: {\n                    addressIndex: addressIndex,\n                    hdPrivateKeys: {\n                        'wallet': privateKey\n                    },\n                }\n            },\n            script: 'wallet_unlock',\n            valueSatoshis: BigInt(utxo.value)\n        } : Uint8Array.from(Array());\n        return {\n            outpointIndex: utxo.tx_pos,\n            outpointTransactionHash: hexToBin(utxo.tx_hash),\n            sequenceNumber: age,\n            unlockingBytecode: unlockingData,\n        };\n    }\n    static getTokenOutput(amount, privateKey, addressIndex = 0, category = BPTS) {\n        const lockingBytecode = privateKey ? {\n            compiler: this.compiler,\n            data: {\n                hdKeys: {\n                    addressIndex: addressIndex,\n                    hdPublicKeys: {\n                        'wallet': deriveHdPublicKey(privateKey).hdPublicKey\n                    },\n                },\n            },\n            script: 'wallet_lock'\n        } : Uint8Array.from(Array(33));\n        return {\n            lockingBytecode: lockingBytecode,\n            valueSatoshis: 800n,\n            token: {\n                category: category,\n                amount: BigInt(amount)\n            }\n        };\n    }\n    static getChangeOutput(utxo, privateKey, addressIndex = 0) {\n        const lockingBytecode = privateKey ? {\n            compiler: this.compiler,\n            data: {\n                hdKeys: {\n                    addressIndex: addressIndex,\n                    hdPublicKeys: {\n                        'wallet': deriveHdPublicKey(privateKey).hdPublicKey\n                    },\n                },\n            },\n            script: 'wallet_lock'\n        } : Uint8Array.from(Array(33));\n        return {\n            lockingBytecode: lockingBytecode,\n            valueSatoshis: BigInt(utxo.value) - 800n\n        };\n    }\n    /**\n     * Get source outputs, transform contract & wallet outpoints for spending verification.\n     *\n     * @param contractUtxo - contract outputs to use as input.\n     * @param walletUtxo - wallet outputs to use as input.\n     * @param key - private key to sign transaction wallet inputs.\n     *\n     * @returns a transaction template.\n     */\n    static getSourceOutputs(contractUtxo, walletUtxo, key) {\n        const sourceOutputs = [];\n        sourceOutputs.push(this.getWalletSourceOutput(walletUtxo, key));\n        sourceOutputs.push(this.getSourceOutput(contractUtxo));\n        return sourceOutputs;\n    }\n    /**\n     * Claim some Block Points.\n     *\n     * @param now - The current bitcoin block height timestamp (expressed in blocks).\n     * @param contractUtxo - contract outputs to use as input.\n     * @param walletUtxos - wallet outputs to use as input.\n     * @param key - private key to sign transaction wallet inputs.\n     * @param fee - transaction fee to pay (per byte); default 1 sat/byte.\n     *\n     * @throws {Error} if transaction generation fails.\n     * @returns a transaction template.\n     */\n    static claim(now, contractUtxo, walletUtxo, key, category, fee = 1) {\n        const inputs = [];\n        const outputs = [];\n        let bptCat = category ? hexToBin(category) : BPTS;\n        const youngerUtxo = walletUtxo.height > contractUtxo.height ? walletUtxo.height : contractUtxo.height;\n        const age = now - youngerUtxo;\n        const amount = Math.floor(age * walletUtxo.value / 100000000);\n        let config = {\n            locktime: 0,\n            version: 2,\n            inputs,\n            outputs\n        };\n        config.inputs.push(this.getWalletInput(walletUtxo, age, key));\n        config.outputs.push(this.getTokenOutput(amount, key, 0, bptCat));\n        config.inputs.push(this.getInput(contractUtxo, age));\n        config.outputs.push(this.getOutput(contractUtxo, amount, age));\n        config.outputs.push(this.getChangeOutput(walletUtxo, key, 0));\n        let result = generateTransaction(config);\n        if (!result.success)\n            throw new Error('generate transaction failed!, errors: ' + JSON.stringify(result.errors, null, '  '));\n        const estimatedFee = getTransactionFees(result.transaction, fee);\n        // subtract fees off the change output\n        config.outputs[2].valueSatoshis = config.outputs[2].valueSatoshis - estimatedFee;\n        result = generateTransaction(config);\n        if (!result.success)\n            throw new Error('generate transaction failed!, errors: ' + JSON.stringify(result.errors, null, '  '));\n        const sourceOutputs = this.getSourceOutputs(contractUtxo, walletUtxo, key);\n        const transaction = result.transaction;\n        const tokenValidationResult = verifyTransactionTokens(transaction, sourceOutputs, { maximumTokenCommitmentLength: 40 });\n        if (tokenValidationResult !== true && fee > 0)\n            throw tokenValidationResult;\n        let verify = this.vm.verify({\n            sourceOutputs: sourceOutputs,\n            transaction: transaction,\n        });\n        if (typeof verify == \"string\")\n            throw Error(verify);\n        let feeEstimate = sumSourceOutputValue(sourceOutputs) - sumSourceOutputValue(transaction.outputs);\n        if (feeEstimate > 5000)\n            verify = `Excessive fees ${feeEstimate}`;\n        if (sumSourceOutputTokenAmounts(sourceOutputs, category) == 0n)\n            verify = `Error checking token input`;\n        let tokenDiff = sumSourceOutputTokenAmounts(sourceOutputs, category) -\n            sumSourceOutputTokenAmounts(transaction.outputs, category);\n        if (tokenDiff !== 0n)\n            throw Error(`Claiming should not create destroy tokens, token difference: ${tokenDiff}`);\n        return {\n            sourceOutputs: sourceOutputs,\n            transaction: transaction,\n            verify: verify\n        };\n    }\n}\n//# sourceMappingURL=index.js.map","<script lang=\"ts\">\n\timport { onMount, onDestroy } from 'svelte';\n\timport { page } from '$app/state';\n\n\timport { binToHex, cashAddressToLockingBytecode, encodeTransactionBCH } from '@bitauth/libauth';\n\n\timport BCH from '$lib/images/BCH.svg';\n\timport tBCH from '$lib/images/tBCH.svg';\n\timport tBPTS from '$lib/images/tBPTS.svg';\n\timport BPTS from '$lib/images/BPTS.svg';\n\n\timport { ElectrumClient, ConnectionStatus } from '@electrum-cash/network';\n\n\timport { IndexedDBProvider } from '@mainnet-cash/indexeddb-storage';\n\timport { BaseWallet, Wallet, TestNetWallet, hexToBin } from 'mainnet-js';\n\n\timport {\n\t\tsumUtxoValue,\n\t\tsumTokenAmounts,\n\t\tgetScriptHash,\n\t\tgetHdPrivateKey,\n\t\ttype UtxoI\n\t} from '@unspent/tau';\n\timport BlockPoint from '@unspent/blockpoint';\n\timport { BPTS as bptCat, tBPTS as tbptCat } from '@unspent/blockpoint';\n\n\timport Readme from './README.md';\n\timport BitauthLink from '$lib/BitauthLink.svelte';\n\timport Transaction from '$lib/Transaction.svelte';\n\timport CONNECTED from '$lib/images/connected.svg';\n\timport DISCONNECTED from '$lib/images/disconnected.svg';\n\n\tlet now = $state(0);\n\tlet connectionStatus = $state('');\n\tlet contractState = $state('');\n\n\tlet transaction_hex = $state('');\n\tlet transaction: any = undefined;\n\tlet transactionValid = $state(false);\n\tlet sourceOutputs: any = undefined;\n\n\tlet unspent: any[] = $state([]);\n\tlet walletUnspent: any[] = $state([]);\n\tlet key = $state('');\n\tlet electrumClient: any = $state();\n\tlet scripthash = $state('');\n\tlet walletScriptHash = $state('');\n\n\tlet sumWalletBlockPoint = $state(0n);\n\tlet sumWallet = $state(0);\n\tlet sumVaultBlockPoint = $state(0n);\n\tlet sumVault = $state(0);\n\n\tscripthash = BlockPoint.getScriptHash();\n\n\tconst isMainnet = page.url.hostname == 'vox.cash';\n\tconst icon = isMainnet ? BPTS : tBPTS;\n\tconst category = isMainnet ? binToHex(bptCat) : binToHex(tbptCat);\n\tconst baseTicker = isMainnet ? 'BCH' : 'tBCH';\n\tconst ticker = isMainnet ? 'BPTS' : 'tBPTS';\n\tconst prefix = isMainnet ? 'bitcoincash' : 'bchtest';\n\tconst server = isMainnet ? 'bch.imaginary.cash' : 'chipnet.bch.ninja';\n\tconst bchIcon = isMainnet ? BCH : tBCH;\n\n\tlet spent = new Set();\n\tlet timer: any = 0;\n\tlet amount = 0;\n\tlet wallet: any;\n\tlet transactionError: string | boolean = $state('');\n\n\tconst handleNotifications = async function (data: any) {\n\t\tif (data.method === 'blockchain.headers.subscribe') {\n\t\t\tlet d = data.params[0];\n\t\t\tnow = d.height;\n\t\t} else if (data.method === 'blockchain.scripthash.subscribe') {\n\t\t\tif (data.params[1] !== contractState) {\n\t\t\t\tcontractState = data.params[1];\n\t\t\t\tconnectionStatus = ConnectionStatus[electrumClient.status];\n\t\t\t\tamount = 0;\n\t\t\t\tdebounceUpdateWallet();\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.log(data);\n\t\t}\n\t};\n\n\tconst debounceUpdateWallet = () => {\n\t\tclearTimeout(timer);\n\t\ttimer = setTimeout(() => {\n\t\t\tupdateWallet();\n\t\t\tupdateUnspent();\n\t\t}, 1500);\n\t};\n\n\tconst updateWallet = async function () {\n\t\tlet response = await electrumClient.request(\n\t\t\t'blockchain.scripthash.listunspent',\n\t\t\twalletScriptHash,\n\t\t\t'include_tokens'\n\t\t);\n\t\tif (response instanceof Error) throw response;\n\n\t\twalletUnspent = response;\n\t\tsumWallet = sumUtxoValue(walletUnspent, true);\n\t\tsumWalletBlockPoint = sumTokenAmounts(walletUnspent, category);\n\n\t\twalletUnspent = walletUnspent\n\t\t\t.filter((u: UtxoI) => !u.token_data)\n\t\t\t.filter((u: UtxoI) => u.height > 0);\n\t};\n\n\tconst updateUnspent = async function () {\n\t\tlet response = await electrumClient.request(\n\t\t\t'blockchain.scripthash.listunspent',\n\t\t\tscripthash,\n\t\t\t'include_tokens'\n\t\t);\n\t\tif (response instanceof Error) throw response;\n\t\tlet unspentIds = new Set(response.map((utxo: any) => `${utxo.tx_hash}\":\"${utxo.tx_pos}`));\n\t\tif (unspent.length == 0 || spent.intersection(unspentIds).size == 0) {\n\t\t\tunspent = response;\n\t\t}\n\t\tunspent = unspent.filter((t) => t.height > 0);\n\t\tunspent = unspent.filter((t) => t.token_data && t.token_data.category == category);\n\t\tunspent.sort((a, b) => a.height - b.height);\n\t\tsumVault = sumUtxoValue(unspent, true);\n\t\tsumVaultBlockPoint = sumTokenAmounts(unspent, category);\n\t};\n\n\tconst broadcast = async function (raw_tx: string) {\n\t\tlet response = await electrumClient.request('blockchain.transaction.broadcast', raw_tx);\n\t\tif (response instanceof Error) {\n\t\t\tconnectionStatus = ConnectionStatus[electrumClient.status];\n\t\t\tthrow response;\n\t\t}\n\t\tresponse as any[];\n\t};\n\n\tconst claimAll = function () {\n\t\twalletUnspent.map((walletUtxo, i) => {\n\t\t\tclaimReward(now, unspent[i], walletUtxo, key, category);\n\t\t});\n\t};\n\n\tconst claimReward = function (\n\t\tnow: number,\n\t\tutxo: UtxoI,\n\t\twalletUtxo: UtxoI,\n\t\tkey: string,\n\t\tcategory: any\n\t) {\n\t\ttry {\n\t\t\twalletUnspent = walletUnspent.filter(\n\t\t\t\t(u) => `${u.tx_hash}:${u.tx_pos}` !== `${walletUtxo.tx_hash}:${walletUtxo.tx_pos}`\n\t\t\t);\n\t\t\tlet result = BlockPoint.claim(now, utxo, walletUtxo, key, category);\n\t\t\ttransaction = result.transaction;\n\t\t\tsourceOutputs = result.sourceOutputs;\n\t\t\ttransaction_hex = binToHex(encodeTransactionBCH(transaction));\n\t\t\tbroadcast(transaction_hex);\n\t\t\ttransactionValid = result.verify === true ? true : false;\n\t\t\tif (result.verify === true) transactionError = '';\n\t\t} catch (error: any) {\n\t\t\ttransaction = undefined;\n\t\t\tsourceOutputs = undefined;\n\t\t\ttransaction_hex = '';\n\t\t\ttransactionValid = false;\n\t\t\ttransactionError = error;\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tBaseWallet.StorageProvider = IndexedDBProvider;\n\t\twallet = isMainnet ? await Wallet.named(`vox`) : await TestNetWallet.named(`vox`);\n\n\t\tkey = getHdPrivateKey(wallet.mnemonic!, wallet.derivationPath.slice(0, -2), wallet.isTestnet);\n\t\tlet lockingCodeResult = cashAddressToLockingBytecode(wallet.getDepositAddress());\n\t\tif (typeof lockingCodeResult == 'string') throw lockingCodeResult;\n\t\twalletScriptHash = getScriptHash(lockingCodeResult.bytecode);\n\n\t\t// Initialize an electrum client.\n\t\telectrumClient = new ElectrumClient(BlockPoint.USER_AGENT, '1.4.1', server);\n\n\t\t// Wait for the client to connect.\n\t\tawait electrumClient.connect();\n\t\t// Set up a callback function to handle new blocks.\n\n\t\t// Listen for notifications.\n\t\telectrumClient.on('notification', handleNotifications);\n\n\t\t// Set up a subscription for new block headers.\n\t\tawait electrumClient.subscribe('blockchain.scripthash.subscribe', scripthash);\n\t\tawait electrumClient.subscribe('blockchain.scripthash.subscribe', walletScriptHash);\n\t\tawait electrumClient.subscribe('blockchain.headers.subscribe');\n\t});\n\n\tonDestroy(async () => {\n\t\tconst electrumClient = new ElectrumClient(BlockPoint.USER_AGENT, '1.4.1', server);\n\t\tawait electrumClient.disconnect();\n\t});\n</script>\n\n\n<svelte:head>\n\t<title>ðŸŸ¦ Block Points</title>\n\t<meta name=\"description\" content=\"Claim rewards for coins held.\" />\n</svelte:head>\n\n<section>\n\t<div class=\"status\">\n\t\t<BitauthLink template={BlockPoint.template} />\n\t\t{#if connectionStatus == 'CONNECTED'}\n\t\t\t<img src={CONNECTED} alt={connectionStatus} />\n\t\t{:else}\n\t\t\t<img src={DISCONNECTED} alt=\"Disconnected\" />\n\t\t{/if}\n\t</div>\n\t<h1>Claim Block Point Rewards</h1>\n\n\t{#if connectionStatus == 'CONNECTED'}\n\t\t<div class=\"swap\">\n\t\t\t<div>\n\t\t\t\t<img width=\"50\" src={bchIcon} alt={baseTicker} />\n\t\t\t\t<br />\n\t\t\t\t{sumWallet.toLocaleString()} sats {baseTicker}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<img width=\"50\" src={icon} alt={ticker} />\n\t\t\t\t<br />\n\t\t\t\t{sumWalletBlockPoint.toLocaleString()}\n\t\t\t\t{ticker}\n\t\t\t</div>\n\t\t</div>\n\n\t\t{transactionError}\n\n\t\t{#if walletUnspent.length > 0}\n\t\t\t<div class=\"swap\">\n\t\t\t\t<button onclick={() => claimAll()}>Claim All Rewards</button>\n\t\t\t</div>\n\t\t\t<h4>Wallet Unspent Transaction Outputs (coins)</h4>\n\t\t\t<div class=\"grid\">\n\t\t\t\t{#each walletUnspent as t, i}\n\t\t\t\t\t{#if !t.token_data && unspent[i]}\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t{#if Math.floor(((now - t.height) * t.value) / 100000000) >= 1}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"action\"\n\t\t\t\t\t\t\t\t\tonclick={() => claimReward(now, unspent[i], t, key, category)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img width=\"100\" src={icon} alt=\"bptLogo\" /><br />\n\t\t\t\t\t\t\t\t\tClaim {t.height > unspent[i].height\n\t\t\t\t\t\t\t\t\t\t? Math.floor(((now - t.height) * t.value) / 100000000)\n\t\t\t\t\t\t\t\t\t\t: Math.floor(((now - unspent[i].height) * t.value) / 100000000)}\n\t\t\t\t\t\t\t\t\t{ticker}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<button class=\"action\" disabled>\n\t\t\t\t\t\t\t\t\t<img width=\"100\" src={icon} alt=\"bptLogo\" /><br />\n\t\t\t\t\t\t\t\t\t{t.height > unspent[i].height\n\t\t\t\t\t\t\t\t\t\t? (((now - t.height) * t.value) / 100000000).toLocaleString(undefined, {\n\t\t\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 4\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t: (((now - unspent[i].height) * t.value) / 100000000).toLocaleString(\n\t\t\t\t\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 4\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{ticker}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t{:else }\n\t\t\t<div class=\"swap\">\n\t\t\t\t<p><a href=\"/wallet\">Deposit funds</a> to claim block points.</p>\n\t\t\t</div>\n\t\t{/if}\n\t{:else}\n\t\t<div class=\"swap\">\n\t\t\t<p>Not connected.</p>\n\t\t</div>\n\t{/if}\n\t<Readme />\n</section>\n\n<style>\n\t\n\t.status {\n\t\ttext-align: end;\n\t}\n\n\t.swap {\n\t\tdisplay: flex;\n\t\tmargin: auto;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t.swap div {\n\t\tpadding: 20px;\n\t\tjustify-content: center;\n\t\ttext-align: center;\n\t}\n\n\t.action {\n\t\tdisplay: inline-block;\n\t\tborder-radius: 10px;\n\t\tbackground-color: rgba(255, 255, 255, 0.781);\n\t\t/* color: #000000; */\n\t\tborder: #ffffff solid;\n\t\tmargin: auto;\n\t\tpadding: 10px;\n\t\tfont-weight: 900;\n\t\tfont-size: small;\n\t\tfilter: drop-shadow(8px 8px 16px #ffffff);\n\t}\n\n\t.action:disabled {\n\t\tdisplay: inline-block;\n\t\tborder-radius: 10px;\n\t\tbackground-color: #adadad;\n\t\tcolor: #000000;\n\t\tmargin: 1px;\n\t\tpadding: 0 5px 0 5px;\n\t\tfont-weight: 900;\n\t\tfont-size: small;\n\t}\n\n\t.grid {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\talign-items: flex-start;\n\t}\n\n\t.grid .row {\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttext-align: center;\n\t\tgrid-gap: 0.2rem;\n\t\tmargin: 0 0 0.2rem 0;\n\t}\n\n\t.swap button {\n\t\tbackground-color: #a45eb6; /* Green */\n\t\tborder: none;\n\t\tcolor: white;\n\t\tborder-radius: 20px;\n\t\tpadding: 15px 32px;\n\t\ttext-align: center;\n\t\ttext-decoration: none;\n\t\tdisplay: inline-block;\n\t\tfont-size: 16px;\n\t}\n\t.swap button:hover {\n\t\tbackground-color: #9933b3;\n\t}\n</style>\n"],"names":["prerender","tBPTS$1","BPTS$1","BPTS","hexToBin","tBPTS","BlockPoint","packageInfo","template","getLibauthCompiler","createVirtualMachineBch","data","lockingBytecodeResult","reversed","getScriptHash","prefix","getAddress","utxo","age","bigIntToVmNumber","amount","key","hdPrivateKeyToP2pkhLockingBytecode","privateKey","addressIndex","unlockingData","category","deriveHdPublicKey","contractUtxo","walletUtxo","sourceOutputs","now","fee","inputs","outputs","bptCat","youngerUtxo","config","result","generateTransaction","estimatedFee","getTransactionFees","transaction","tokenValidationResult","verifyTransactionTokens","verify","feeEstimate","sumSourceOutputValue","sumSourceOutputTokenAmounts","tokenDiff","claimAll","connectionStatus","contractState","transaction_hex","transactionValid","unspent","$.state","$.proxy","walletUnspent","electrumClient","scripthash","walletScriptHash","sumWalletBlockPoint","sumWallet","sumVaultBlockPoint","sumVault","isMainnet","page","icon","binToHex","tbptCat","baseTicker","ticker","server","bchIcon","BCH","tBCH","spent","timer","wallet","transactionError","handleNotifications","d","$.get","$.set","ConnectionStatus","debounceUpdateWallet","updateWallet","updateUnspent","response","sumUtxoValue","sumTokenAmounts","u","unspentIds","t","a","b","broadcast","raw_tx","i","claimReward","encodeTransactionBCH","error","onMount","BaseWallet","IndexedDBProvider","Wallet","TestNetWallet","getHdPrivateKey","lockingCodeResult","cashAddressToLockingBytecode","ElectrumClient","onDestroy","CONNECTED","DISCONNECTED","$$render","consequent","alternate","$.each","div_5","consequent_1","alternate_1","consequent_2","consequent_3","alternate_2","consequent_4","alternate_3"],"mappings":"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"}