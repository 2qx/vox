var Le=t=>{throw TypeError(t)};var Ne=(t,e,a)=>e.has(t)||Le("Cannot "+a);var ue=(t,e,a)=>(Ne(t,e,"read from private field"),a?a.call(t):e.get(t)),de=(t,e,a)=>e.has(t)?Le("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,a),ve=(t,e,a,r)=>(Ne(t,e,"write to private field"),r?r.call(t,a):e.set(t,a),a);import{f as R,a as N,t as re}from"../chunks/ruevGtC9.js";import{b as kt,d as Et,k as me,h as q,m as St,J as Tt,z as f,n as zt,a2 as Pt,a3 as Mt,a4 as We,j as pe,l as X,K as Ct,a5 as lt,S as ot,a6 as Ht,ax as he,Q as ct,T as Ue,ad as jt,ay as ke,a0 as Lt,az as Se,aA as Nt,P as Wt,aB as Ut,aq as Dt,aC as Te,aD as It,i as Ot,aE as ft,Z as Rt,aF as De,aG as Ft,ar as qt,x as ut,as as dt,A as Jt,aH as Bt,aa as Ee,aI as Kt,av as Qt,p as Vt,s as I,f as be,t as K,a as Gt,$ as Yt,c as F,aJ as Xt,r as U,aw as j}from"../chunks/F-1NCHkG.js";import{s as Z}from"../chunks/CATu97wE.js";import{p as Zt,i as G}from"../chunks/B9ankcQ9.js";import{h as $t}from"../chunks/B44b50Mc.js";import{r as ea,a as Ie,s as Oe}from"../chunks/DMEsEpc6.js";import{o as ta,d as aa,e as ra}from"../chunks/LLOhsHU6.js";import{i as sa,a as na,b as ia,c as la}from"../chunks/Cnva9z1n.js";function oa(t,e){return e}function ca(t,e,a,r){for(var s=[],u=e.length,l=0;l<u;l++)Nt(e[l].e,s,!0);var d=u>0&&s.length===0&&a!==null;if(d){var y=a.parentNode;Wt(y),y.append(a),r.clear(),B(t,e[0].prev,e[u-1].next)}Ut(s,()=>{for(var w=0;w<u;w++){var _=e[w];d||(r.delete(_.k),B(t,_.prev,_.next)),Dt(_.e,!d)}})}function se(t,e,a,r,s,u=null){var l=t,d={flags:e,items:new Map,first:null},y=(e&ft)!==0;if(y){var w=t;l=q?me(St(w)):w.appendChild(kt())}q&&Tt();var _=null,H=!1,m=zt(()=>{var b=a();return Lt(b)?b:b==null?[]:ct(b)});Et(()=>{var b=f(m),o=b.length;if(H&&o===0)return;H=o===0;let P=!1;if(q){var S=Pt(l)===Mt;S!==(o===0)&&(l=We(),me(l),pe(!1),P=!0)}if(q){for(var k=null,z,v=0;v<o;v++){if(X.nodeType===8&&X.data===Ct){l=X,P=!0,pe(!1);break}var n=b[v],h=r(n,v);z=vt(X,d,k,null,n,h,v,s,e,a),d.items.set(h,z),k=z}o>0&&me(We())}q||fa(b,d,l,s,e,r,a),u!==null&&(o===0?_?lt(_):_=ot(()=>u(l)):_!==null&&Ht(_,()=>{_=null})),P&&pe(!0),f(m)}),q&&(l=X)}function fa(t,e,a,r,s,u,l){var M,D,C,T;var d=(s&Ft)!==0,y=(s&(Te|Se))!==0,w=t.length,_=e.items,H=e.first,m=H,b,o=null,P,S=[],k=[],z,v,n,h;if(d)for(h=0;h<w;h+=1)z=t[h],v=u(z,h),n=_.get(v),n!==void 0&&((M=n.a)==null||M.measure(),(P??(P=new Set)).add(n));for(h=0;h<w;h+=1){if(z=t[h],v=u(z,h),n=_.get(v),n===void 0){var c=m?m.e.nodes_start:a;o=vt(c,e,o,o===null?e.first:o.next,z,v,h,r,s,l),_.set(v,o),S=[],k=[],m=o.next;continue}if(y&&ua(n,z,h,s),(n.e.f&he)!==0&&(lt(n.e),d&&((D=n.a)==null||D.unfix(),(P??(P=new Set)).delete(n))),n!==m){if(b!==void 0&&b.has(n)){if(S.length<k.length){var i=k[0],p;o=i.prev;var x=S[0],E=S[S.length-1];for(p=0;p<S.length;p+=1)Re(S[p],i,a);for(p=0;p<k.length;p+=1)b.delete(k[p]);B(e,x.prev,E.next),B(e,o,x),B(e,E,i),m=i,o=E,h-=1,S=[],k=[]}else b.delete(n),Re(n,m,a),B(e,n.prev,n.next),B(e,n,o===null?e.first:o.next),B(e,o,n),o=n;continue}for(S=[],k=[];m!==null&&m.k!==v;)(m.e.f&he)===0&&(b??(b=new Set)).add(m),k.push(m),m=m.next;if(m===null)continue;n=m}S.push(n),o=n,m=n.next}if(m!==null||b!==void 0){for(var A=b===void 0?[]:ct(b);m!==null;)(m.e.f&he)===0&&A.push(m),m=m.next;var g=A.length;if(g>0){var W=(s&ft)!==0&&w===0?a:null;if(d){for(h=0;h<g;h+=1)(C=A[h].a)==null||C.measure();for(h=0;h<g;h+=1)(T=A[h].a)==null||T.fix()}ca(e,A,W,_)}}d&&Rt(()=>{var J;if(P!==void 0)for(n of P)(J=n.a)==null||J.apply()}),Ue.first=e.first&&e.first.e,Ue.last=o&&o.e}function ua(t,e,a,r){(r&Te)!==0&&De(t.v,e),(r&Se)!==0?De(t.i,a):t.i=a}function vt(t,e,a,r,s,u,l,d,y,w){var _=(y&Te)!==0,H=(y&It)===0,m=_?H?jt(s):ke(s):s,b=(y&Se)===0?l:ke(l),o={i:b,v:m,k:u,a:null,e:null,prev:a,next:r};try{return o.e=ot(()=>d(t,m,b,w),q),o.e.prev=a&&a.e,o.e.next=r&&r.e,a===null?e.first=o:(a.next=o,a.e.next=o.e),r!==null&&(r.prev=o,r.e.prev=o.e),o}finally{}}function Re(t,e,a){for(var r=t.next?t.next.e.nodes_start:a,s=e?e.e.nodes_start:a,u=t.e.nodes_start;u!==r;){var l=Ot(u);s.before(u),u=l}}function B(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Fe(t,e,a){qt(()=>{var r=ut(()=>e(t,a==null?void 0:a())||{});if(a&&(r!=null&&r.update)){var s=!1,u={};dt(()=>{var l=a();Jt(l),s&&Bt(u,l)&&(u=l,r.update(l))}),s=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function mt(t){var e,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(a=mt(t[e]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function da(){for(var t,e,a=0,r="",s=arguments.length;a<s;a++)(t=arguments[a])&&(e=mt(t))&&(r&&(r+=" "),r+=e);return r}function va(t){return typeof t=="object"?da(t):t??""}const qe=[...` 	
\r\fÂ \v\uFEFF`];function ma(t,e,a){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),a){for(var s in a)if(a[s])r=r?r+" "+s:s;else if(r.length)for(var u=s.length,l=0;(l=r.indexOf(s,l))>=0;){var d=l+u;(l===0||qe.includes(r[l-1]))&&(d===r.length||qe.includes(r[d]))?r=(l===0?"":r.substring(0,l))+r.substring(d+1):l=d}}return r===""?null:r}function $(t,e,a,r,s,u){var l=t.__className;if(q||l!==a||l===void 0){var d=ma(a,r,u);(!q||d!==t.getAttribute("class"))&&(d==null?t.removeAttribute("class"):t.className=d),t.__className=a}else if(u&&s!==u)for(var y in u){var w=!!u[y];(s==null||w!==!!s[y])&&t.classList.toggle(y,w)}return u}function pa(t){Ee(t,t.v+1)}function ha(t){let e=0,a=ke(0),r;return()=>{Kt()&&(f(a),dt(()=>(e===0&&(r=ut(()=>t(()=>pa(a)))),e+=1,()=>{Qt().then(()=>{e-=1,e===0&&(r==null||r(),r=void 0)})})))}}var te,ae;class ba{constructor(e,a){de(this,te);de(this,ae);ve(this,te,e),ve(this,ae,ha(a))}get current(){return ue(this,ae).call(this),ue(this,te).call(this)}}te=new WeakMap,ae=new WeakMap;const ya=/\(.+\)/,_a=new Set(["all","print","screen","and","or","not","only"]);class ga extends ba{constructor(e,a){let r=ya.test(e)||e.split(/[\s,]+/).some(u=>_a.has(u.trim()))?e:`(${e})`;const s=window.matchMedia(r);super(()=>s.matches,u=>ta(s,"change",u))}}function wa(t){const e=JSON.parse(t);return e.data&&(e.data=ia(e.data,la.decoders)),e}function ye(t){return HTMLElement.prototype.cloneNode.call(t)}function _e(t,e=()=>{}){const a=async({action:s,result:u,reset:l=!0,invalidateAll:d=!0})=>{u.type==="success"&&(l&&HTMLFormElement.prototype.reset.call(t),d&&await sa()),(location.origin+location.pathname===s.origin+s.pathname||u.type==="redirect"||u.type==="error")&&await na(u)};async function r(s){var P,S,k,z,v;if(((P=s.submitter)!=null&&P.hasAttribute("formmethod")?s.submitter.formMethod:ye(t).method)!=="post")return;s.preventDefault();const l=new URL((S=s.submitter)!=null&&S.hasAttribute("formaction")?s.submitter.formAction:ye(t).action),d=(k=s.submitter)!=null&&k.hasAttribute("formenctype")?s.submitter.formEnctype:ye(t).enctype,y=new FormData(t),w=(z=s.submitter)==null?void 0:z.getAttribute("name");w&&y.append(w,((v=s.submitter)==null?void 0:v.getAttribute("value"))??"");const _=new AbortController;let H=!1;const b=await e({action:l,cancel:()=>H=!0,controller:_,formData:y,formElement:t,submitter:s.submitter})??a;if(H)return;let o;try{const n=new Headers({accept:"application/json","x-sveltekit-action":"true"});d!=="multipart/form-data"&&n.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(d)?d:"application/x-www-form-urlencoded");const h=d==="multipart/form-data"?y:new URLSearchParams(y),c=await fetch(l,{method:"POST",headers:n,cache:"no-store",body:h,signal:_.signal});o=wa(await c.text()),o.type==="error"&&(o.status=c.status)}catch(n){if((n==null?void 0:n.name)==="AbortError")return;o={type:"error",error:n}}await b({action:l,formData:y,formElement:t,update:n=>a({action:l,result:o,reset:n==null?void 0:n.reset,invalidateAll:n==null?void 0:n.invalidateAll}),result:o})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",r)}}}var Je="mz3PUW_p",Be=["#FFC700","#FF0000","#2E3191","#41BBC7"],Ke=3500,Qe=.5,Ve=150,Ge="mix",Ye=12,Xe="",Ze=!0,$e=800,et=1600;function ge(t,e={}){let{colors:a=Be,duration:r=Ke,force:s=Qe,particleCount:u=Ve,particleShape:l=Ge,particleSize:d=Ye,particleClass:y=Xe,destroyAfterDone:w=Ze,stageHeight:_=$e,stageWidth:H=et}=e;(function(v){if(document.querySelector("style[data-neoconfetti]"))return;const n=we("style");n.dataset.neoconfetti="",n.textContent=v,xe(document.head,n)})('@keyframes mz3PUW_ya{to{translate:0 var(--sh)}}@keyframes mz3PUW_xa{to{translate:var(--xlp)0}}@keyframes mz3PUW_r{50%{rotate:var(--hr)180deg}to{rotate:var(--r)360deg}}.mz3PUW_c{z-index:1200;width:0;height:0;position:relative;overflow:visible}.mz3PUW_p{animation:xa var(--dc)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:mz3PUW_xa}.mz3PUW_p>div{animation:ya var(--dc)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--w);height:var(--h);animation-name:mz3PUW_ya;position:absolute;top:0;left:0}.mz3PUW_p>div:before{content:"";background-color:var(--bgc);animation:r var(--rd)infinite linear;border-radius:var(--br);width:100%;height:100%;animation-name:mz3PUW_r;display:block}'),t.classList.add("mz3PUW_c"),t.style.setProperty("--sh",_+"px");let m=[],b=[];const o=()=>ee(O()*(Sa-1)),P=(v,n)=>l!=="rectangles"&&(v==="circles"||Ta(n));function S(v,n){const h=o(),c=P(l,h),i=(E,A)=>v.style.setProperty(E,A+"");i("--xlp",Ae(ne(st(n,90)-180),0,180,-H/2,H/2)+"px"),i("--dc",r-ee(1e3*O())+"ms");const p=O()<Aa?Y(O()*ka,2):0;i("--x1",p),i("--x2",-1*p),i("--x3",p),i("--x4",Y(ne(Ae(ne(st(n,90)-180),0,180,-1,1)),4)),i("--y1",Y(O()*at,4)),i("--y2",Y(O()*s*(pt()?1:-1),4)),i("--y3",at),i("--y4",Y(Ea(Ae(ne(n-180),0,180,s,-s),0),4)),i("--w",(c?d:ee(4*O())+d/2)+"px"),i("--h",(c?d:ee(2*O())+d)+"px");const x=h.toString(2).padStart(3,"0").split("");i("--hr",x.map(E=>+E/2+"").join(" ")),i("--r",x.join(" ")),i("--rd",Y(O()*(xa-tt)+tt)+"ms"),i("--br",c?"50%":0)}let k;function z(){t.innerHTML="",clearTimeout(k),m=rt(u,a),b=function(v,n=[],h){const c=[];for(const{color:i}of n){const p=we("div");p.className=`${Je} ${h}`,p.style.setProperty("--bgc",i);const x=we("div");xe(p,x),xe(v,p),c.push(p)}return c}(t,m,y);for(const[v,n]of nt(b))S(n,m[+v].degree);k=setTimeout(()=>{w&&(t.innerHTML="")},r)}return z(),{update(v){const n=v.particleCount??Ve,h=v.particleShape??Ge,c=v.particleSize??Ye,i=v.particleClass??Xe,p=v.colors??Be,x=v.stageHeight??$e,E=v.duration??Ke,A=v.force??Qe,g=v.stageWidth??et,W=v.destroyAfterDone??Ze;m=rt(n,p);let M=!1;if(n===u){b=Array.from(t.querySelectorAll(`.${Je}`));for(const[D,{color:C}]of nt(m)){const T=b[+D];JSON.stringify(a)!==JSON.stringify(p)&&T.style.setProperty("--bgc",C),h!==l&&T.style.setProperty("--br",P(h,o())?"50%":"0"),i!==y&&(y&&T.classList.remove(y),i&&T.classList.add(i))}}else M=!0;w&&!W&&clearTimeout(k),t.style.setProperty("--sh",x+"px"),r=E,a=p,s=A,u=n,l=h,d=c,y=i,w=W,_=x,H=g,M&&z()},destroy(){t.innerHTML="",clearTimeout(k)}}}var tt=200,xa=800,Aa=.1,ka=.3,at=.5,ne=Math.abs,O=Math.random,ee=Math.round,Ea=Math.max,we=t=>document.createElement(t),xe=(t,e)=>t.appendChild(e),rt=(t,e)=>Array.from({length:t},(a,r)=>({color:e[r%e.length],degree:360*r/t})),Y=(t,e=2)=>ee((t+Number.EPSILON)*10**e)/10**e,Ae=(t,e,a,r,s)=>(t-e)*(s-r)/(a-e)+r,st=(t,e)=>t+e>360?t+e-360:t+e,pt=()=>O()>.5,nt=Object.entries,Sa=6,Ta=t=>t!==1&&pt();function it(t,e,a){var s;t.preventDefault();const r=t.target.getAttribute("data-key");r==="backspace"?(Ee(e,f(e).slice(0,-1),!0),(s=a())!=null&&s.badGuess&&a(a().badGuess=!1,!0)):f(e).length<5&&Ee(e,f(e)+r)}var za=R('<meta name="description" content="A Wordle clone written in SvelteKit" class="svelte-1pg2j5l"/>'),Pa=R('<div> <span class="visually-hidden svelte-1pg2j5l"><!></span> <input name="guess" type="hidden" class="svelte-1pg2j5l"/></div>'),Ma=R('<h2 class="visually-hidden svelte-1pg2j5l"> </h2> <div></div>',1),Ca=R('<p class="svelte-1pg2j5l"> </p>'),Ha=R('<!> <button data-key="enter" class="restart selected svelte-1pg2j5l" formaction="?/restart"> </button>',1),ja=R('<button formaction="?/update" name="key"> </button>'),La=R('<div class="row svelte-1pg2j5l"></div>'),Na=R('<div class="keyboard svelte-1pg2j5l"><button data-key="enter">enter</button> <button data-key="backspace" formaction="?/update" name="key" value="backspace" class="svelte-1pg2j5l">back</button> <!></div>'),Wa=R('<div style="position: absolute; left: 50%; top: 30%" class="svelte-1pg2j5l"></div>'),Ua=R('<h1 class="visually-hidden svelte-1pg2j5l">Sverdle</h1> <form method="post" action="?/enter" class="svelte-1pg2j5l"><a class="how-to-play svelte-1pg2j5l" href="/sverdle/how-to-play">How to play</a> <div></div> <div class="controls svelte-1pg2j5l"><!></div></form> <!>',1);function Qa(t,e){Vt(e,!0);let a=Zt(e,"form",15);const r=new ga("(prefers-reduced-motion: reduce)");let s=j(()=>e.data.answers.at(-1)==="xxxxx"),u=j(()=>f(s)?-1:e.data.answers.length),l=j(()=>e.data.guesses[f(u)]||""),d=j(()=>f(l).length===5);const y=j(()=>{let c={},i={};return e.data.answers.forEach((p,x)=>{const E=e.data.guesses[x];for(let A=0;A<5;A+=1){const g=E[A];p[A]==="x"?(c[g]="exact",i[g]="correct"):c[g]||(c[g]=p[A]==="c"?"close":"missing",i[g]=p[A]==="c"?"present":"absent")}}),{classnames:c,description:i}}),w=j(()=>f(y).classnames),_=j(()=>f(y).description);function H(c){var i;c.metaKey||c.key==="Enter"&&!f(d)||(i=document.querySelector(`[data-key="${c.key}" i]`))==null||i.dispatchEvent(new MouseEvent("click",{cancelable:!0,bubbles:!0}))}var m=Ua();ra("keydown",Xt,H),$t(c=>{var i=za();Yt.title="Sverdle",N(c,i)});var b=I(be(m),2),o=I(F(b),2);let P;se(o,20,()=>Array.from(Array(6).keys()),c=>c,(c,i)=>{var p=Ma();const x=j(()=>i===f(u));var E=be(p),A=F(E);U(E);var g=I(E,2);let W;se(g,20,()=>Array.from(Array(5).keys()),M=>M,(M,D)=>{var C=Pa();const T=j(()=>f(x)?f(l):e.data.guesses[i]),J=j(()=>{var L;return(L=e.data.answers[i])==null?void 0:L[D]}),ze=j(()=>{var L;return((L=f(T))==null?void 0:L[D])??""}),ht=j(()=>f(x)&&D===f(T).length),Pe=j(()=>f(J)==="x"),Me=j(()=>f(J)==="c"),Ce=j(()=>f(J)==="_");let He;var je=F(C),ie=I(je),bt=F(ie);{var yt=L=>{var oe=re("(correct)");N(L,oe)},_t=(L,oe)=>{{var gt=Q=>{var ce=re("(present)");N(Q,ce)},wt=(Q,ce)=>{{var xt=V=>{var fe=re("(absent)");N(V,fe)},At=V=>{var fe=re("empty");N(V,fe)};G(Q,V=>{f(Ce)?V(xt):V(At,!1)},ce)}};G(L,Q=>{f(Me)?Q(gt):Q(wt,!1)},oe)}};G(bt,L=>{f(Pe)?L(yt):L(_t,!1)})}U(ie);var le=I(ie,2);ea(le),U(C),K(L=>{He=$(C,1,"letter svelte-1pg2j5l",null,He,L),Z(je,`${f(ze)??""} `),le.disabled=!f(x),Ie(le,f(ze))},[()=>({exact:f(Pe),close:f(Me),missing:f(Ce),selected:f(ht)})]),N(M,C)}),U(g),K(M=>{Z(A,`Row ${i+1}`),W=$(g,1,"row svelte-1pg2j5l",null,W,M)},[()=>({current:f(x)})]),N(c,p)}),U(o);var S=I(o,2),k=F(S);{var z=c=>{var i=Ha(),p=be(i);{var x=g=>{var W=Ca(),M=F(W);U(W),K(()=>Z(M,`the answer was "${e.data.answer??""}"`)),N(g,W)};G(p,g=>{!f(s)&&e.data.answer&&g(x)})}var E=I(p,2),A=F(E);U(E),K(()=>Z(A,`${f(s)?"you won :)":"game over :("} play again?`)),N(c,i)},v=c=>{var i=Na(),p=F(i);let x;var E=I(p,2);E.__click=[it,l,a];var A=I(E,2);se(A,16,()=>["qwertyuiop","asdfghjkl","zxcvbnm"],g=>g,(g,W)=>{var M=La();se(M,21,()=>W,oa,(D,C)=>{var T=ja();T.__click=[it,l,a];var J=F(T,!0);U(T),K(()=>{Oe(T,"data-key",f(C)),$(T,1,va(f(w)[f(C)]),"svelte-1pg2j5l"),T.disabled=f(d),Ie(T,f(C)),Oe(T,"aria-label",`${f(C)??""} ${(f(_)[f(C)]||"")??""}`),Z(J,f(C))}),N(D,T)}),U(M),N(g,M)}),U(i),K(g=>{p.disabled=!f(d),x=$(p,1,"svelte-1pg2j5l",null,x,g)},[()=>({selected:f(d)})]),N(c,i)};G(k,c=>{f(s)||e.data.answers.length>=6?c(z):c(v,!1)})}U(S),U(b),Fe(b,(c,i)=>_e==null?void 0:_e(c,i),()=>()=>({update:c})=>{c({reset:!1})});var n=I(b,2);{var h=c=>{var i=Wa();Fe(i,(p,x)=>ge==null?void 0:ge(p,x),()=>({particleCount:r.current?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),N(c,i)};G(n,c=>{f(s)&&c(h)})}K(c=>P=$(o,1,"grid svelte-1pg2j5l",null,P,c),[()=>{var c;return{playing:!f(s),"bad-guess":(c=a())==null?void 0:c.badGuess}}]),N(t,m),Gt()}aa(["click"]);export{Qa as component};
