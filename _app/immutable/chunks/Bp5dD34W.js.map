{"version":3,"file":"Bp5dD34W.js","sources":["../../../../../../src/lib/images/trash.svg","../../../../../../src/lib/images/likes.svg","../../../../../../src/lib/ChatPost.svelte","../../../../../../src/lib/Chat.svelte"],"sourcesContent":["export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='15px'%20fill='%23000'%3e%3cpath%20d='M280-120q-33%200-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0%2033-23.5%2056.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160%200h80v-360h-80v360ZM280-720v520-520Z'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='48px'%20viewBox='0%20-960%20960%20960'%20width='48px'%20fill='%23888'%3e%3cpath%20d='M272-120v-512l278-288%2058%2046-52%20242h359v171L767-120H272Zm60-60h397l126-299v-93H482l53-249-203%20214v427Zm0-427v427-427ZM79-120v-512h193v60H139v392h133v60H79Z'/%3e%3c/svg%3e\"","<script>\n\timport { blo } from 'blo';\n\timport likesIcon from '$lib/images/likes.svg';\n\n\tlet showMore = $state(false);\n\t\n    const TRUNCATE = 400;\n\tlet {\n\t\tlikePost = $bindable(),\n\t\tthisAuth,\n\t\thash,\n\t\tauth,\n\t\theight,\n\t\tsequence,\n\t\tbody,\n\t\tlikes,\n\t\tdislikes,\n\t\tref,\n\t\terror\n\t} = $props();\n</script>\n\n<div class=\"container\">\n\t<div class=\"auth\">\n\t\t{#if !thisAuth}\n\t\t\t<img height=\"32px\" src={blo(auth, 16)} alt={auth} />\n\t\t{:else}\n\t\t\t<div style=\"width:32px\"></div>\n\t\t{/if}\n\t</div>\n\t<div class=\"post {thisAuth ? 'op' : ''} \">\n\t\t<div class=\"footer\">\n\t\t\t<div class=\"fill\"></div>\n\t\t\t<div class=\"action\"></div>\n\t\t</div>\n\t\t{#if !error}\n\t\t\t{#if body.length > TRUNCATE+20  && showMore}\n\t\t\t\t<div>\n\t\t\t\t\t{body}\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\tshowMore = !showMore;\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{showMore ? 'show less' : 'show more'}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t{:else if body.length > TRUNCATE+20 }\n\t\t\t\t<div>\n\t\t\t\t\t{body.substring(0,TRUNCATE) + ' ...'}\n\t\t\t\t\t<button\n\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\tshowMore = !showMore;\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{showMore ? 'show less' : 'show more'}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t{body}\n\t\t\t{/if}\n\t\t{:else}\n\t\t\t<div class=\"error\">\n\t\t\t\t{error}\n\t\t\t</div>\n\t\t{/if}\n\t\t<div class=\"footer\">\n\t\t\t<div class=\"hash\">{hash}</div>\n\t\t\t<div class=\"fill\"></div>\n\n\t\t\t<div class=\"actions\">\n\t\t\t\t<button\n\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\tlikePost(hash);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<img height=\"16px\" src={likesIcon} alt=\"likes\" />\n\t\t\t\t\t{likes}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class=\"timestamp\">{height} ■ {sequence}</div>\n\t\t</div>\n\t</div>\n\t<div class=\"auth\">\n\t\t{#if thisAuth}\n\t\t\t<img height=\"32px\" src={blo(auth, 16)} alt={auth} />\n\t\t{:else}\n\t\t\t<div style=\"width:32px\"></div>\n\t\t{/if}\n\t</div>\n</div>\n\n<style>\n\t.container {\n\t\tdisplay: flex;\n\t\tpadding: 5px;\n\t}\n\t.post {\n\t\tborder-radius: 10px;\n\t\tpadding: 5px 5px 5px 15px;\n\t\tbackground-color: #eeeeee;\n\t\tmargin: auto;\n\t\twidth: 100%;\n\t\twhite-space: pre-line;\n\t\tword-break: break-word;\n\t}\n\n\tbutton {\n\t\tborder-width: 0px;\n\t\tbackground: transparent;\n\t\tfont-weight: 700;\n\t\tcolor: #ad67c2;\n\t\tfont-size: small;\n\t}\n\t\n\t.actions {\n\t\tmargin: auto;\n\t\tfont-size: x-small;\n\t\tfont-weight: 400;\n\t\tvertical-align: middle;\n\t}\n\t.footer {\n\t\tdisplay: flex;\n\t}\n\t.hash {\n\t\tfont-size: xx-small;\n\t\tfont-weight: 200;\n\t\talign-content: flex-start;\n\t\tcolor: #857070;\n\t\tmax-width: 70%;\n\t\tword-wrap: anywhere;\n\t}\n\t.fill {\n\t\tflex: 1;\n\t}\n\t.timestamp {\n\t\tfont-size: xx-small;\n\t\tfont-weight: 200;\n\t\tcolor: #777;\n\t}\n\t.auth {\n\t\talign-content: center;\n\t\tpadding: 5px 5px 5px 5px;\n\t}\n\t.auth img {\n\t\tborder-radius: 20%;\n\t}\n\n\t.post :global {\n\t\tp {\n\t\t\tfont-weight: 400;\n\t\t\tline-height: 1;\n\t\t}\n\t}\n\n\t.post.op {\n\t\tbackground-color: #fff;\n\t}\n\n\t.error {\n\t\tcolor: brown;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { onMount, onDestroy } from 'svelte';\n\timport { page } from '$app/state';\n\timport { binToHex, cashAddressToLockingBytecode, encodeTransactionBch } from '@bitauth/libauth';\n\n\timport { ElectrumClient, ConnectionStatus } from '@electrum-cash/network';\n\n\timport { IndexedDBProvider } from '@mainnet-cash/indexeddb-storage';\n\timport { BaseWallet, Wallet, TestNetWallet, NFTCapability, TokenSendRequest } from 'mainnet-js';\n\timport { blo } from 'blo';\n\n\timport {\n\t\tcashAssemblyToHex,\n\t\tgetScriptHash,\n\t\tgetHdPrivateKey,\n\t\ttype UtxoI,\n\t\tgetAllTransactions,\n\t\tsumSourceOutputValue,\n\t\tsumUtxoValue\n\t} from '@unspent/tau';\n\n\timport { Channel, Post, buildChannel, parseUsername } from '@fbch/lib';\n\n\timport trash from '$lib/images/trash.svg';\n\timport BitauthLink from '$lib/BitauthLink.svelte';\n\timport ChatPost from '$lib/ChatPost.svelte';\n\timport CONNECTED from '$lib/images/connected.svg';\n\timport DISCONNECTED from '$lib/images/disconnected.svg';\n\n\tconst isMainnet = page.url.hostname == 'vox.cash';\n\tconst prefix = isMainnet ? 'bitcoincash' : 'bchtest';\n\tconst server = isMainnet ? 'bch.imaginary.cash' : 'chipnet.bch.ninja';\n\tconst explorer = isMainnet\n\t\t? 'https://explorer.salemkode.com/address/'\n\t\t: 'https://cbch.loping.net/address/';\n\n\tconst protocol_prefix = cashAssemblyToHex(`OP_RETURN <\"${Channel.PROTOCOL_IDENTIFIER}\">`);\n\n\tlet now = $state(0);\n\tlet balance = $state(0);\n\tlet contractBalance = $state(0);\n\tlet connectionStatus = $state('');\n\tlet contractState = $state('');\n\n\tlet { topic = $bindable() } = $props();\n\n\tlet message = $state('');\n\tlet thisAuth = $state('');\n\tlet sequence = $state(0);\n\tlet estimate = $state(0);\n\tlet showSettings = $state(false);\n\n\tconst scripthash = $derived(Channel.getScriptHash(topic));\n\tconst contractAddress = $derived(Channel.getAddress(topic, prefix));\n\n\tlet posts: any[] = $state([]);\n\tlet transactions: any[] = $state([]);\n\n\tlet timer: any;\n\tlet key = '';\n\tlet electrumClient: any;\n\tlet walletScriptHash = '';\n\n\tlet wallet: any;\n\tlet walletUnspent: any[] = $state([]);\n\n\tconst debounceUpdateWallet = () => {\n\t\tclearTimeout(timer);\n\t\ttimer = setTimeout(() => {\n\t\t\tupdateWallet();\n\t\t\tupdateContract();\n\t\t}, 1500);\n\t};\n\n\tconst handleNotifications = async function (data: any) {\n\t\tif (data.method === 'blockchain.headers.subscribe') {\n\t\t\tlet d = data.params[0];\n\t\t\tnow = d.height;\n\t\t} else if (data.method === 'blockchain.scripthash.subscribe') {\n\t\t\tif (data.params[1] !== contractState) {\n\t\t\t\tcontractState = data.params[1];\n\t\t\t\tconnectionStatus = ConnectionStatus[electrumClient.status];\n\t\t\t\tdebounceUpdateWallet();\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.log(data);\n\t\t}\n\t};\n\n\tconst updateScroll = function () {\n\t\tlet chat = document.getElementById('chat')!;\n\t\tvar xH = chat.scrollHeight;\n\t\tchat.scrollTo(0, xH);\n\t};\n\n\tconst likePost = async function (postId: string) {\n\t\tlet likePostTx = Channel.like(\n\t\t\ttopic,\n\t\t\tpostId,\n\t\t\twalletUnspent[0],\n\t\t\t(Math.round(now / 1000) + 10) * 10,\n\t\t\tkey\n\t\t);\n\n\t\tlet raw_tx = binToHex(encodeTransactionBch(likePostTx.transaction));\n\t\tawait broadcast(raw_tx);\n\t};\n\n\tconst setHeight = async function () {\n\t\tlet response = await electrumClient.request('blockchain.headers.get_tip');\n\t\tif (response instanceof Error) throw response;\n\t\tnow = response.height;\n\t};\n\n\tconst updateWallet = async function () {\n\t\tlet response = await electrumClient.request(\n\t\t\t'blockchain.scripthash.listunspent',\n\t\t\twalletScriptHash,\n\t\t\t'include_tokens'\n\t\t);\n\t\tif (response instanceof Error) throw response;\n\t\tbalance = sumUtxoValue(response);\n\n\t\twalletUnspent = response.filter(\n\t\t\t(u: UtxoI) =>\n\t\t\t\tu.token_data && u.token_data.nft && u.token_data.nft.commitment.startsWith(protocol_prefix)\n\t\t);\n\t\tif (walletUnspent.length > 0 && walletUnspent[0].token_data) {\n\t\t\tthisAuth = walletUnspent[0].token_data.category;\n\t\t}\n\t};\n\n\tconst emptyBaton = async function () {\n\t\tlet response  = await wallet.send([\n\t\t\tnew TokenSendRequest({\n\t\t\t\tcashaddr: wallet.getTokenDepositAddress(),\n\t\t\t\ttokenId: walletUnspent[0].token_data.category,\n\t\t\t\tamount: 0,\n\t\t\t\tcapability: walletUnspent[0].token_data.nft.capability,\n\t\t\t\tcommitment: walletUnspent[0].token_data.nft.commitment,\n\t\t\t\tvalue: 800\n\n\t\t\t})\n\t\t]);\n\t\tconsole.log(response)\n\t};\n\n\tconst clearPosts = async function () {\n\t\tlet response = await electrumClient.request(\n\t\t\t'blockchain.scripthash.listunspent',\n\t\t\tscripthash,\n\t\t\t'include_tokens'\n\t\t);\n\t\tif (response instanceof Error) throw response;\n\t\tlet old = response.filter((u: UtxoI) => u.height > 0 && now - u.height > 1000).slice(0, 300);\n\t\tif (old.length > 0) {\n\t\t\tlet clearPostTx = Channel.clear(topic, old, walletUnspent[0], key, now);\n\t\t\tlet raw_tx = binToHex(encodeTransactionBch(clearPostTx.transaction));\n\t\t\tconsole.log(raw_tx);\n\t\t\tawait broadcast(raw_tx);\n\t\t}\n\t};\n\n\tconst burnSpam = async function () {\n\t\tlet response = await electrumClient.request(\n\t\t\t'blockchain.scripthash.listunspent',\n\t\t\tscripthash,\n\t\t\t'include_tokens'\n\t\t);\n\t\tif (response instanceof Error) throw response;\n\n\t\tlet spam = response.filter((u: UtxoI) => Math.floor(u.value / 10) * 1000 - u.height < 1000);\n\t\tif (spam.length > 0) {\n\t\t\tlet clearPostTx = Channel.clear(topic, spam, walletUnspent[0], key, now);\n\t\t\tlet raw_tx = binToHex(encodeTransactionBch(clearPostTx.transaction));\n\t\t\tconsole.log(raw_tx);\n\t\t\tawait broadcast(raw_tx);\n\t\t}\n\t};\n\n\tconst updateContract = async function () {\n\t\tlet response = await electrumClient.request(\n\t\t\t'blockchain.scripthash.listunspent',\n\t\t\tscripthash,\n\t\t\t'include_tokens'\n\t\t);\n\n\t\tif (response instanceof Error) throw response;\n\t\tcontractBalance = sumUtxoValue(response);\n\n\t\tlet tx_hashes = Array.from(new Set(response.map((utxo: any) => utxo.tx_hash))) as string[];\n\n\t\tlet historyResponse = await electrumClient.request(\n\t\t\t'blockchain.scripthash.get_history',\n\t\t\tscripthash,\n\t\t\tnow - 10000,\n\t\t\t-1\n\t\t);\n\n\t\ttransactions = await getAllTransactions(electrumClient, tx_hashes);\n\n\t\tposts = buildChannel(historyResponse, transactions, topic);\n\t\tposts = posts.map((p) => {\n\t\t\treturn {\n\t\t\t\tthisAuth: thisAuth == p.auth,\n\t\t\t\t...p\n\t\t\t};\n\t\t});\n\n\t\t// update the current sequence state to match the chan\n\t\tif (posts.slice(-1).length > 0) {\n\t\t\tsequence = posts.slice(-1)[0].height <= 0 ? posts.slice(-1)[0].sequence + 1 : 0;\n\t\t} else {\n\t\t\tsequence = 0;\n\t\t}\n\t};\n\n\tconst clearPost = async function (post: Post) {\n\t\tlet response = await electrumClient.request(\n\t\t\t'blockchain.scripthash.listunspent',\n\t\t\tscripthash,\n\t\t\t'include_tokens'\n\t\t);\n\t\tif (response instanceof Error) throw response;\n\n\t\tlet utxos = response.filter((u: UtxoI) => u.tx_hash == post.hash).slice(0, 200);\n\t\tlet clearPostTx = Channel.clear(topic, utxos, walletUnspent[0], key, now);\n\t\tlet raw_tx = binToHex(encodeTransactionBch(clearPostTx.transaction));\n\t\tconsole.log(raw_tx)\n\t\tawait broadcast(raw_tx);\n\t};\n\n\tconst debounceEstimate = () => {\n\t\tclearTimeout(timer);\n\t\ttimer = setTimeout(() => {\n\t\t\testimate = reEstimate(message);\n\t\t}, 500);\n\t};\n\n\tconst reEstimate = function (msg: string) {\n\t\tif (msg.length > 0) {\n\t\t\tlet post = Channel.post(\n\t\t\t\ttopic,\n\t\t\t\tmsg,\n\t\t\t\twalletUnspent[0],\n\t\t\t\t(Math.round(now / 1000) + 10) * 10,\n\t\t\t\tkey,\n\t\t\t\tsequence\n\t\t\t);\n\t\t\tconst returned = post.transaction.outputs[post.transaction.outputs.length - 1].valueSatoshis;\n\t\t\treturn Number(sumSourceOutputValue(post.sourceOutputs) - returned);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t};\n\n\tconst send = async function (msg: string) {\n\t\tlet minValue = (Math.round(now / 1000) + 10) * 10;\n\n\t\tlet post = Channel.post(topic, msg, walletUnspent[0], minValue, key, sequence);\n\n\t\tlet raw_tx = binToHex(encodeTransactionBch(post.transaction));\n\t\tawait broadcast(raw_tx);\n\t\tmessage = '';\n\t};\n\n\tconst broadcast = async function (raw_tx: string) {\n\t\tlet response = await electrumClient.request('blockchain.transaction.broadcast', raw_tx);\n\t\tsequence += 1;\n\t\tif (response instanceof Error) {\n\t\t\tconnectionStatus = ConnectionStatus[electrumClient.status];\n\t\t\tthrow response;\n\t\t}\n\t\tresponse as any[];\n\t};\n\n\tconst newAuthBaton = async function () {\n\t\tawait wallet.sendMax(wallet.getDepositAddress());\n\t\tlet uname = cashAssemblyToHex(`OP_RETURN <\"${Channel.PROTOCOL_IDENTIFIER}\"> <\"pseudonymous\">`);\n\t\tlet sendResponse = await wallet.tokenGenesis({\n\t\t\tcashaddr: wallet.getTokenDepositAddress()!, // token UTXO recipient, if not specified will default to sender's address\n\t\t\tcommitment: uname, // NFT Commitment message\n\t\t\tcapability: NFTCapability.minting, // NFT capability\n\t\t\tvalue: 1_000_000 // Satoshi value\n\t\t});\n\t};\n\n\tconst topUp = async function (amount: number) {\n\t\tbalance = walletUnspent[0].value;\n\t\tthisAuth = walletUnspent[0].token_data.category;\n\t\tlet uname = cashAssemblyToHex(`OP_RETURN <\"${Channel.PROTOCOL_IDENTIFIER}\"> <\"pseudonymous\">`);\n\n\t\tlet sendResponse = await wallet.send(\n\t\t\tnew TokenSendRequest({\n\t\t\t\tcashaddr: wallet.getTokenDepositAddress()!,\n\t\t\t\ttokenId: thisAuth,\n\t\t\t\tcommitment: uname, // NFT Commitment message\n\t\t\t\tcapability: NFTCapability.minting, // NFT capability\n\t\t\t\tvalue: balance + amount // Satoshi value\n\t\t\t})\n\t\t);\n\t\tawait updateWallet();\n\t};\n\n\tonMount(async () => {\n\t\tBaseWallet.StorageProvider = IndexedDBProvider;\n\t\twallet = isMainnet ? await Wallet.named(`vox`) : await TestNetWallet.named(`vox`);\n\t\tkey = getHdPrivateKey(wallet.mnemonic!, wallet.derivationPath.slice(0, -2), wallet.isTestnet);\n\t\tlet bytecodeResult = cashAddressToLockingBytecode(wallet.getDepositAddress());\n\t\tif (typeof bytecodeResult == 'string') throw bytecodeResult;\n\t\twalletScriptHash = getScriptHash(bytecodeResult.bytecode);\n\n\t\t// Initialize an electrum client.\n\t\telectrumClient = new ElectrumClient(Channel.USER_AGENT, '1.4.1', server);\n\n\t\t// Wait for the client to connect.\n\t\tawait electrumClient.connect();\n\t\t// Set up a callback function to handle new blocks.\n\n\t\t// Listen for notifications.\n\t\telectrumClient.on('notification', handleNotifications);\n\t\tconnectionStatus = ConnectionStatus[electrumClient.status];\n\t\t// Set up a subscription for new block headers.\n\t\tawait electrumClient.subscribe('blockchain.scripthash.subscribe', scripthash);\n\t\tawait electrumClient.subscribe('blockchain.scripthash.subscribe', walletScriptHash);\n\t\tawait setHeight();\n\t\tawait updateWallet();\n\t\tawait updateContract();\n\t\tupdateScroll();\n\t});\n\n\tonDestroy(async () => {\n\t\tawait wallet.provider.disconnect();\n\t\tawait electrumClient.disconnect();\n\t});\n</script>\n\n<div class=\"box\">\n\t<div class=\"row header\">\n\t\t{now.toLocaleString()}<sub>■</sub>\n\t\t{sequence}\n\n\t\t<div style=\"flex: 2 2 auto;\"></div>\n\t\t<b><a onclick={() => (topic = '')} href=\"/pop/\">pop</a> {topic}</b>\n\t\t<div style=\"flex: 2 2 auto;\"></div>\n\t\t{#if contractBalance}\n\t\t\t<a target=\"_blank\" href=\"{explorer}{contractAddress}\">\n\t\t\t\t{Math.floor(Number(contractBalance) / 1000).toLocaleString()}k sats &nbsp;\n\t\t\t</a>\n\t\t{/if}\n\t\t<BitauthLink template={Channel.template} />\n\t\t{#if connectionStatus == 'CONNECTED'}\n\t\t\t<img src={CONNECTED} alt={connectionStatus} />\n\t\t{:else}\n\t\t\t<img src={DISCONNECTED} alt=\"Disconnected\" />\n\t\t{/if}\n\t</div>\n\t<div id=\"chat\" class=\"row content\">\n\t\t{#if transactions}\n\t\t\t{#await transactions then build}\n\t\t\t\t{#each posts as post}\n\t\t\t\t\t<ChatPost {likePost} {...post} />\n\t\t\t\t\t{#if showSettings}\n\t\t\t\t\t\t<div class=\"deleteMe\">\n\t\t\t\t\t\t\t<button onclick={() => clearPost(post)}>\n\t\t\t\t\t\t\t\t<img height=\"36px\" src={trash} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t{:catch error}\n\t\t\t\t<p style=\"color: red\">{error.message}</p>\n\t\t\t{/await}\n\t\t{/if}\n\t</div>\n\t{#if balance > 1000000 && walletUnspent.length == 0}\n\t\t<div class=\"row footer\">\n\t\t\t<h2>Create new identity</h2>\n\t\t\t<button onclick={() => newAuthBaton()}>New identity 1M sats</button>\n\t\t</div>\n\t{:else if balance < 1100000 && walletUnspent.length == 0}\n\t\t<div class=\"row footer\">\n\t\t\t<p><a href=\"/wallet\">Deposit funds</a> to create identity</p>\n\t\t</div>\n\t{:else}\n\t\t<div class=\"row footer\">\n\t\t\t{#if connectionStatus == 'CONNECTED'}\n\t\t\t\t<div class=\"edit\">\n\t\t\t\t\t<textarea onkeyup={() => debounceEstimate()} bind:value={message}> </textarea>\n\t\t\t\t\t<div class=\"estimate\">\n\t\t\t\t\t\t{estimate.toLocaleString()} sats\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"send\">\n\t\t\t\t\t<div class=\"auth\">\n\t\t\t\t\t\t{#if thisAuth}\n\t\t\t\t\t\t\t<img height=\"32px\" src={blo(thisAuth, 16)} alt=\"avatar\" />\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{#if walletUnspent.length > 0}\n\t\t\t\t\t\t\t<div style=\"font-size:x-small;\">\n\t\t\t\t\t\t\t\t{parseUsername(walletUnspent[0].token_data.nft.commitment)}<br />\n\t\t\t\t\t\t\t\t{walletUnspent[0].value.toLocaleString()}sats\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onclick={() => send(message)}>Send</button>\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t<p>Not connected?</p>\n\t\t\t{/if}\n\t\t</div>\n\t{/if}\n\n\t<div class=\"row footer\">\n\t\t<div style=\"margin: auto;\">Advanced</div>\n\t\t<div>\n\t\t\t<!-- Rounded switch -->\n\t\t\t<label class=\"switch\">\n\t\t\t\t<input type=\"checkbox\" bind:checked={showSettings} />\n\t\t\t\t<span class=\"slider round\"></span>\n\t\t\t</label>\n\t\t</div>\n\t</div>\n\n\t{#if showSettings}\n\t\t{#if walletUnspent.length > 0}\n\t\t\t<div class=\"row footer\">\n\t\t\t\t<button onclick={() => topUp(10000000)}>Top up 10M sats</button>\n\t\t\t\t<button onclick={() => topUp(1000000)}>Top up 1M sats</button>\n\t\t\t</div>\n\t\t\t<div class=\"row footer\">\n\t\t\t\t<button onclick={() => clearPosts()}>Clear Old Posts</button>\n\t\t\t\t<button onclick={() => burnSpam()}>Burn Spam</button>\n\t\t\t</div>\n\t\t\t<div class=\"row footer\">\n\t\t\t\t{#if thisAuth}\n\t\t\t\t\t<button onclick={() => emptyBaton()}>Empty Baton Sats</button>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t{/if}\n</div>\n\n<style>\n\t.box {\n\t\tdisplay: flex;\n\t\tflex: 1 1 auto;\n\t\tflex-flow: column;\n\t\theight: 100%;\n\t\tborder-radius: 10px;\n\t\tborder: 1px solid rgba(78, 11, 92, 0.452);\n\t\tbackground-color: #ffffff33;\n\t}\n\n\t.box .row {\n\t\tborder: 1px dotted grey;\n\t}\n\n\t.box .row.header {\n\t\tpadding: 3px;\n\t\tdisplay: flex;\n\t\tcolor: #ff00ff77;\n\t\tfont-weight: 800;\n\t\ttext-align: center;\n\t\tflex: 0 1 auto;\n\n\t\toverflow: hidden;\n\t\t/* The above is shorthand for:\n        flex-grow: 0,\n        flex-shrink: 1,\n        flex-basis: auto\n        */\n\t}\n\n\t.box .row.header b {\n\t\toverflow: hidden;\n\t}\n\n\t.box .row.content {\n\t\tflex: 1 1 auto;\n\t\toverflow-y: scroll;\n\t\toverflow-x: hidden;\n\t\tmax-height: 65vh;\n\t\tmin-height: 10vh;\n\t}\n\n\t.box .row.footer .edit {\n\t\twidth: 100%;\n\t\tflex: 1 1 auto;\n\t\tbackground: #fff0f044;\n\t\tborder: #666;\n\t\tborder-width: 1px;\n\t\tpadding: 5px;\n\t}\n\t.edit textarea {\n\t\twidth: 100%;\n\t\tmin-height: 5em;\n\t}\n\n\t.estimate {\n\t\tfont-size: x-small;\n\t\tfont-weight: 200;\n\t\talign-content: flex-start;\n\t\tcolor: #554949;\n\t\tword-wrap: anywhere;\n\t\ttext-align: right;\n\t}\n\n\t.box .row.footer {\n\t\tbackground: #eeeeee22;\n\t\tflex: 0 1 auto;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\theight: auto;\n\t\tresize: none;\n\t\tpadding: 10px;\n\t}\n\n\t.deleteMe {\n\t\tposition: relative;\n\t\toverflow: visible;\n\t\theight: 0px;\n\t\tleft: 30px;\n\t\ttop: -45px;\n\t}\n\t.deleteMe button {\n\t\tbackground-color: rgb(233, 138, 138); /* Green */\n\t\tpadding: 5px;\n\t\tborder-radius: 40%;\n\t}\n\t.send {\n\t\talign-content: center;\n\t\tpadding: 5px;\n\t}\n\n\t.auth {\n\t\talign-content: center;\n\t\tpadding: 10px;\n\t}\n\t.auth img {\n\t\tborder-radius: 20%;\n\t}\n\n\tbutton {\n\t\tbackground-color: #a45eb6; /* Green */\n\t\tborder: none;\n\t\tcolor: white;\n\t\tpadding: 10px;\n\t\tborder-radius: 20px;\n\t\ttext-align: center;\n\t\ttext-decoration: none;\n\t\tdisplay: inline-block;\n\t\tfont-size: 16px;\n\t}\n\n\t.switch {\n\t\tposition: relative;\n\t\tdisplay: inline-block;\n\t\twidth: 60px;\n\t\theight: 34px;\n\t}\n\n\t/* Hide default HTML checkbox */\n\t.switch input {\n\t\topacity: 0;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\n\t/* The slider */\n\t.slider {\n\t\tposition: absolute;\n\t\tcursor: pointer;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: #ccc;\n\t\t-webkit-transition: 0.4s;\n\t\ttransition: 0.4s;\n\t}\n\n\t.slider:before {\n\t\tposition: absolute;\n\t\tcontent: '';\n\t\theight: 26px;\n\t\twidth: 26px;\n\t\tleft: 4px;\n\t\tbottom: 4px;\n\t\tbackground-color: white;\n\t\t-webkit-transition: 0.4s;\n\t\ttransition: 0.4s;\n\t}\n\n\tinput:checked + .slider {\n\t\tbackground-color: #a45eb6;\n\t}\n\n\tinput:focus + .slider {\n\t\tbox-shadow: 0 0 1px #a45eb6;\n\t}\n\n\tinput:checked + .slider:before {\n\t\t-webkit-transform: translateX(26px);\n\t\t-ms-transform: translateX(26px);\n\t\ttransform: translateX(26px);\n\t}\n\n\t/* Rounded sliders */\n\t.slider.round {\n\t\tborder-radius: 34px;\n\t}\n\n\t.slider.round:before {\n\t\tborder-radius: 50%;\n\t}\n</style>\n"],"names":["trash","likesIcon","on_click","_","showMore","$.set","on_click_1","__1","on_click_2","__2","$$props","TRUNCATE","blo","$$render","consequent_2","alternate_2","consequent_1","alternate_1","$.set_class","div_3","topic","clearPost","post","newAuthBaton","debounceEstimate","on_click_3","__4","send","message","on_click_4","__5","topUp","on_click_5","__6","clearPosts","burnSpam","emptyBaton","isMainnet","page","prefix","server","explorer","protocol_prefix","cashAssemblyToHex","Channel","now","balance","contractBalance","connectionStatus","contractState","$.prop","thisAuth","sequence","estimate","showSettings","scripthash","$.derived","contractAddress","posts","$.state","$.proxy","transactions","timer","key","electrumClient","walletScriptHash","wallet","walletUnspent","debounceUpdateWallet","updateWallet","updateContract","handleNotifications","data","d","$.get","ConnectionStatus","updateScroll","chat","xH","likePost","postId","likePostTx","raw_tx","binToHex","encodeTransactionBch","broadcast","setHeight","response","sumUtxoValue","u","TokenSendRequest","old","clearPostTx","spam","tx_hashes","utxo","historyResponse","getAllTransactions","buildChannel","p","utxos","reEstimate","msg","returned","sumSourceOutputValue","minValue","uname","NFTCapability","amount","onMount","BaseWallet","IndexedDBProvider","Wallet","TestNetWallet","getHdPrivateKey","bytecodeResult","cashAddressToLockingBytecode","getScriptHash","ElectrumClient","onDestroy","$.set_attribute","a_1","consequent","CONNECTED","DISCONNECTED","alternate","build","$.each","node_5","error","$.template_effect","$.set_text","text_4","consequent_3","consequent_6","parseUsername","consequent_7","$0","text_5","$.bind_value","textarea","$$value","consequent_8","alternate_3","consequent_5","consequent_4","consequent_9","consequent_10","consequent_11","$.bind_checked","input"],"mappings":"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"}