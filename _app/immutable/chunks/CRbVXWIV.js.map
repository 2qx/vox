{"version":3,"file":"CRbVXWIV.js","sources":["../../../../../../../../node_modules/.pnpm/ms@2.1.3/node_modules/ms/index.js","../../../../../../../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/common.js","../../../../../../../../node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/browser.js","../../../../../../../../node_modules/.pnpm/@electrum-cash+debug-logs@1.0.0/node_modules/@electrum-cash/debug-logs/dist/index.mjs","../../../../../../../../node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.js","../../../../../../../../node_modules/.pnpm/async-mutex@0.5.0/node_modules/async-mutex/index.mjs","../../../../../../../../node_modules/.pnpm/@monsterbitar+isomorphic-ws@5.3.1_ws@8.18.2/node_modules/@monsterbitar/isomorphic-ws/browser.mjs","../../../../../../../../node_modules/.pnpm/@electrum-cash+web-socket@1.0.0/node_modules/@electrum-cash/web-socket/dist/index.mjs","../../../../../../../../node_modules/.pnpm/lossless-json@4.1.0/node_modules/lossless-json/lib/esm/utils.js","../../../../../../../../node_modules/.pnpm/lossless-json@4.1.0/node_modules/lossless-json/lib/esm/LosslessNumber.js","../../../../../../../../node_modules/.pnpm/lossless-json@4.1.0/node_modules/lossless-json/lib/esm/numberParsers.js","../../../../../../../../node_modules/.pnpm/lossless-json@4.1.0/node_modules/lossless-json/lib/esm/revive.js","../../../../../../../../node_modules/.pnpm/lossless-json@4.1.0/node_modules/lossless-json/lib/esm/parse.js","../../../../../../../../node_modules/.pnpm/@electrum-cash+network@4.1.1_patch_hash=f7b2ff0ce9059e21d0dfacaf7f7db0c1c5e4577b1d6e7a96b6203dd195fbbc08/node_modules/@electrum-cash/network/dist/index.mjs"],"sourcesContent":["/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(/\\s+/g, ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","import $dvphU$debug from \"debug\";\n\n// Import 3rd party debug library.\n\n// Create the debugging log channels.\nconst $9de8c596df24b669$var$debug = {\n    client: (0, $dvphU$debug)(\"electrum-cash:client \"),\n    errors: (0, $dvphU$debug)(\"electrum-cash:error  \"),\n    warning: (0, $dvphU$debug)(\"electrum-cash:warning\"),\n    network: (0, $dvphU$debug)(\"electrum-cash:network\"),\n    ping: (0, $dvphU$debug)(\"electrum-cash:pulses \")\n};\n// Set log channel colors.\n$9de8c596df24b669$var$debug.client.color = \"2\";\n$9de8c596df24b669$var$debug.errors.color = \"9\";\n$9de8c596df24b669$var$debug.warning.color = \"13\";\n$9de8c596df24b669$var$debug.network.color = \"4\";\n$9de8c596df24b669$var$debug.ping.color = \"8\";\nvar // Export the logs channels.\n$9de8c596df24b669$export$2e2bcd8739ae039 = $9de8c596df24b669$var$debug;\n\n\nexport {$9de8c596df24b669$export$2e2bcd8739ae039 as default};\n//# sourceMappingURL=index.mjs.map\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","const E_TIMEOUT = new Error('timeout while waiting for mutex to become available');\nconst E_ALREADY_LOCKED = new Error('mutex already locked');\nconst E_CANCELED = new Error('request for lock canceled');\n\nvar __awaiter$2 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass Semaphore {\n    constructor(_value, _cancelError = E_CANCELED) {\n        this._value = _value;\n        this._cancelError = _cancelError;\n        this._queue = [];\n        this._weightedWaiters = [];\n    }\n    acquire(weight = 1, priority = 0) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        return new Promise((resolve, reject) => {\n            const task = { resolve, reject, weight, priority };\n            const i = findIndexFromEnd(this._queue, (other) => priority <= other.priority);\n            if (i === -1 && weight <= this._value) {\n                // Needs immediate dispatch, skip the queue\n                this._dispatchItem(task);\n            }\n            else {\n                this._queue.splice(i + 1, 0, task);\n            }\n        });\n    }\n    runExclusive(callback_1) {\n        return __awaiter$2(this, arguments, void 0, function* (callback, weight = 1, priority = 0) {\n            const [value, release] = yield this.acquire(weight, priority);\n            try {\n                return yield callback(value);\n            }\n            finally {\n                release();\n            }\n        });\n    }\n    waitForUnlock(weight = 1, priority = 0) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        if (this._couldLockImmediately(weight, priority)) {\n            return Promise.resolve();\n        }\n        else {\n            return new Promise((resolve) => {\n                if (!this._weightedWaiters[weight - 1])\n                    this._weightedWaiters[weight - 1] = [];\n                insertSorted(this._weightedWaiters[weight - 1], { resolve, priority });\n            });\n        }\n    }\n    isLocked() {\n        return this._value <= 0;\n    }\n    getValue() {\n        return this._value;\n    }\n    setValue(value) {\n        this._value = value;\n        this._dispatchQueue();\n    }\n    release(weight = 1) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        this._value += weight;\n        this._dispatchQueue();\n    }\n    cancel() {\n        this._queue.forEach((entry) => entry.reject(this._cancelError));\n        this._queue = [];\n    }\n    _dispatchQueue() {\n        this._drainUnlockWaiters();\n        while (this._queue.length > 0 && this._queue[0].weight <= this._value) {\n            this._dispatchItem(this._queue.shift());\n            this._drainUnlockWaiters();\n        }\n    }\n    _dispatchItem(item) {\n        const previousValue = this._value;\n        this._value -= item.weight;\n        item.resolve([previousValue, this._newReleaser(item.weight)]);\n    }\n    _newReleaser(weight) {\n        let called = false;\n        return () => {\n            if (called)\n                return;\n            called = true;\n            this.release(weight);\n        };\n    }\n    _drainUnlockWaiters() {\n        if (this._queue.length === 0) {\n            for (let weight = this._value; weight > 0; weight--) {\n                const waiters = this._weightedWaiters[weight - 1];\n                if (!waiters)\n                    continue;\n                waiters.forEach((waiter) => waiter.resolve());\n                this._weightedWaiters[weight - 1] = [];\n            }\n        }\n        else {\n            const queuedPriority = this._queue[0].priority;\n            for (let weight = this._value; weight > 0; weight--) {\n                const waiters = this._weightedWaiters[weight - 1];\n                if (!waiters)\n                    continue;\n                const i = waiters.findIndex((waiter) => waiter.priority <= queuedPriority);\n                (i === -1 ? waiters : waiters.splice(0, i))\n                    .forEach((waiter => waiter.resolve()));\n            }\n        }\n    }\n    _couldLockImmediately(weight, priority) {\n        return (this._queue.length === 0 || this._queue[0].priority < priority) &&\n            weight <= this._value;\n    }\n}\nfunction insertSorted(a, v) {\n    const i = findIndexFromEnd(a, (other) => v.priority <= other.priority);\n    a.splice(i + 1, 0, v);\n}\nfunction findIndexFromEnd(a, predicate) {\n    for (let i = a.length - 1; i >= 0; i--) {\n        if (predicate(a[i])) {\n            return i;\n        }\n    }\n    return -1;\n}\n\nvar __awaiter$1 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass Mutex {\n    constructor(cancelError) {\n        this._semaphore = new Semaphore(1, cancelError);\n    }\n    acquire() {\n        return __awaiter$1(this, arguments, void 0, function* (priority = 0) {\n            const [, releaser] = yield this._semaphore.acquire(1, priority);\n            return releaser;\n        });\n    }\n    runExclusive(callback, priority = 0) {\n        return this._semaphore.runExclusive(() => callback(), 1, priority);\n    }\n    isLocked() {\n        return this._semaphore.isLocked();\n    }\n    waitForUnlock(priority = 0) {\n        return this._semaphore.waitForUnlock(1, priority);\n    }\n    release() {\n        if (this._semaphore.isLocked())\n            this._semaphore.release();\n    }\n    cancel() {\n        return this._semaphore.cancel();\n    }\n}\n\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nfunction withTimeout(sync, timeout, timeoutError = E_TIMEOUT) {\n    return {\n        acquire: (weightOrPriority, priority) => {\n            let weight;\n            if (isSemaphore(sync)) {\n                weight = weightOrPriority;\n            }\n            else {\n                weight = undefined;\n                priority = weightOrPriority;\n            }\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(`invalid weight ${weight}: must be positive`);\n            }\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                let isTimeout = false;\n                const handle = setTimeout(() => {\n                    isTimeout = true;\n                    reject(timeoutError);\n                }, timeout);\n                try {\n                    const ticket = yield (isSemaphore(sync)\n                        ? sync.acquire(weight, priority)\n                        : sync.acquire(priority));\n                    if (isTimeout) {\n                        const release = Array.isArray(ticket) ? ticket[1] : ticket;\n                        release();\n                    }\n                    else {\n                        clearTimeout(handle);\n                        resolve(ticket);\n                    }\n                }\n                catch (e) {\n                    if (!isTimeout) {\n                        clearTimeout(handle);\n                        reject(e);\n                    }\n                }\n            }));\n        },\n        runExclusive(callback, weight, priority) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let release = () => undefined;\n                try {\n                    const ticket = yield this.acquire(weight, priority);\n                    if (Array.isArray(ticket)) {\n                        release = ticket[1];\n                        return yield callback(ticket[0]);\n                    }\n                    else {\n                        release = ticket;\n                        return yield callback();\n                    }\n                }\n                finally {\n                    release();\n                }\n            });\n        },\n        release(weight) {\n            sync.release(weight);\n        },\n        cancel() {\n            return sync.cancel();\n        },\n        waitForUnlock: (weightOrPriority, priority) => {\n            let weight;\n            if (isSemaphore(sync)) {\n                weight = weightOrPriority;\n            }\n            else {\n                weight = undefined;\n                priority = weightOrPriority;\n            }\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(`invalid weight ${weight}: must be positive`);\n            }\n            return new Promise((resolve, reject) => {\n                const handle = setTimeout(() => reject(timeoutError), timeout);\n                (isSemaphore(sync)\n                    ? sync.waitForUnlock(weight, priority)\n                    : sync.waitForUnlock(priority)).then(() => {\n                    clearTimeout(handle);\n                    resolve();\n                });\n            });\n        },\n        isLocked: () => sync.isLocked(),\n        getValue: () => sync.getValue(),\n        setValue: (value) => sync.setValue(value),\n    };\n}\nfunction isSemaphore(sync) {\n    return sync.getValue !== undefined;\n}\n\n// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types\nfunction tryAcquire(sync, alreadyAcquiredError = E_ALREADY_LOCKED) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return withTimeout(sync, 0, alreadyAcquiredError);\n}\n\nexport { E_ALREADY_LOCKED, E_CANCELED, E_TIMEOUT, Mutex, Semaphore, tryAcquire, withTimeout };\n","// https://github.com/maxogden/websocket-stream/blob/48dc3ddf943e5ada668c31ccd94e9186f02fafbd/ws-fallback.js\n\nvar ws = null\n\nif (typeof WebSocket !== 'undefined') {\n  ws = WebSocket\n} else if (typeof MozWebSocket !== 'undefined') {\n  ws = MozWebSocket\n} else if (typeof global !== 'undefined') {\n  ws = global.WebSocket || global.MozWebSocket\n} else if (typeof window !== 'undefined') {\n  ws = window.WebSocket || window.MozWebSocket\n} else if (typeof self !== 'undefined') {\n  ws = self.WebSocket || self.MozWebSocket\n}\n\nexport { ws as WebSocket }\n","import {WebSocket as $dvphU$WebSocket} from \"@monsterbitar/isomorphic-ws\";\nimport {EventEmitter as $dvphU$EventEmitter} from \"eventemitter3\";\nimport $dvphU$electrumcashdebuglogs from \"@electrum-cash/debug-logs\";\n\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $05743633fea447d4$exports = {};\n\n$parcel$export($05743633fea447d4$exports, \"ElectrumWebSocket\", () => $05743633fea447d4$export$25b4633f61498e1);\n\n\n\n// Export a default timeout value of 30 seconds.\nconst $d801b1f9b7fc3074$export$1bddf2b96e25d075 = 30000;\n\n\nclass $05743633fea447d4$export$25b4633f61498e1 extends (0, $dvphU$EventEmitter) {\n    host;\n    port;\n    encrypted;\n    timeout;\n    // Declare an empty WebSocket.\n    webSocket;\n    // Used to disconnect after some time if initial connection is too slow.\n    disconnectTimer;\n    // Initialize boolean that indicates whether the onConnect function has run (initialize to false).\n    onConnectHasRun;\n    // Initialize event forwarding functions.\n    eventForwarders;\n    /**\n\t * Creates a socket configured with connection information for a given Electrum server.\n\t *\n\t * @param host        Fully qualified domain name or IP address of the host\n\t * @param port        Network port for the host to connect to, defaults to the standard TLS port\n\t * @param encrypted   If false, uses an unencrypted connection instead of the default on TLS\n\t * @param timeout     If no connection is established after `timeout` ms, the connection is terminated\n\t */ constructor(host, port = 50004, encrypted = true, timeout = (0, $d801b1f9b7fc3074$export$1bddf2b96e25d075)){\n        // Initialize the event emitter.\n        super();\n        this.host = host;\n        this.port = port;\n        this.encrypted = encrypted;\n        this.timeout = timeout;\n        this.onConnectHasRun = false;\n        this.eventForwarders = {\n            disconnect: ()=>this.emit(\"disconnected\"),\n            wsData: (event)=>this.emit(\"data\", `${event.data}\\n`),\n            wsError: (event)=>this.emit(\"error\", new Error(event.error))\n        };\n    }\n    /**\n\t * Returns a string for the host identifier for usage in debug messages.\n\t */ get hostIdentifier() {\n        return `${this.host}:${this.port}`;\n    }\n    /**\n\t * Connect to host:port using the specified transport\n\t */ connect() {\n        // Check that no existing socket exists before initiating a new connection.\n        if (this.webSocket) throw new Error(\"Cannot initiate a new socket connection when an existing connection exists\");\n        // Set a timer to force disconnect after `timeout` seconds\n        this.disconnectTimer = setTimeout(()=>this.disconnectOnTimeout(), this.timeout);\n        // Remove the timer if a connection is successfully established\n        this.once(\"connected\", this.clearDisconnectTimerOnTimeout);\n        // Set a named connection type for logging purposes.\n        const connectionType = this.encrypted ? \"an encrypted WebSocket\" : \"a WebSocket\";\n        // Log that we are trying to establish a connection.\n        (0, $dvphU$electrumcashdebuglogs).network(`Initiating ${connectionType} connection to '${this.host}:${this.port}'.`);\n        if (this.encrypted) // Initialize this.webSocket (rejecting self-signed certificates).\n        // We reject self-signed certificates to match functionality of browsers.\n        this.webSocket = new (0, $dvphU$WebSocket)(`wss://${this.host}:${this.port}`);\n        else // Initialize this.webSocket.\n        this.webSocket = new (0, $dvphU$WebSocket)(`ws://${this.host}:${this.port}`);\n        // Trigger successful connection events.\n        this.webSocket.addEventListener(\"open\", this.onConnect.bind(this));\n        // Forward the encountered errors.\n        this.webSocket.addEventListener(\"error\", this.eventForwarders.wsError);\n    }\n    /**\n\t * Sets up forwarding of events related to the connection.\n\t */ onConnect() {\n        // If the onConnect function has already run, do not execute it again.\n        if (this.onConnectHasRun) return;\n        // Set a named connection type for logging purposes.\n        const connectionType = this.encrypted ? \"an encrypted WebSocket\" : \"a WebSocket\";\n        // Log that the connection has been established.\n        (0, $dvphU$electrumcashdebuglogs).network(`Established ${connectionType} connection with '${this.host}:${this.port}'.`);\n        // Forward the socket events\n        this.webSocket.addEventListener(\"close\", this.eventForwarders.disconnect);\n        this.webSocket.addEventListener(\"message\", this.eventForwarders.wsData);\n        // Indicate that the onConnect function has run.\n        this.onConnectHasRun = true;\n        // Emit the connect event.\n        this.emit(\"connected\");\n    }\n    /**\n\t * Clears the disconnect timer if it is still active.\n\t */ clearDisconnectTimerOnTimeout() {\n        // Clear the retry timer if it is still active.\n        if (this.disconnectTimer) clearTimeout(this.disconnectTimer);\n    }\n    /**\n\t * Forcibly terminate the connection.\n\t *\n\t * @throws {Error} if no connection was found\n\t */ disconnect() {\n        // Clear the disconnect timer so that the socket does not try to disconnect again later.\n        this.clearDisconnectTimerOnTimeout();\n        try {\n            // Remove all event forwarders.\n            this.webSocket.removeEventListener(\"close\", this.eventForwarders.disconnect);\n            this.webSocket.removeEventListener(\"message\", this.eventForwarders.wsData);\n            this.webSocket.removeEventListener(\"error\", this.eventForwarders.wsError);\n            // Gracefully terminate the connection.\n            this.webSocket.close();\n        } catch (ignored) {\n        // close() will throw an error if the connection has not been established yet.\n        // We ignore this error, since no similar error gets thrown in the TLS Socket.\n        } finally{\n            // Remove the stored socket regardless of any thrown errors.\n            this.webSocket = undefined;\n        }\n        // Indicate that the onConnect function has not run and it has to be run again.\n        this.onConnectHasRun = false;\n        // Emit a disconnect event\n        this.emit(\"disconnected\");\n    }\n    /**\n\t * Write data to the socket\n\t *\n\t * @param data       Data to be written to the socket\n\t * @param callback   Callback function to be called when the write has completed\n\t *\n\t * @throws {Error} if no connection was found\n\t * @returns true if the message was fully flushed to the socket, false if part of the message\n\t * is queued in the user memory\n\t */ write(data, callback) {\n        // Throw an error if no active connection is found\n        if (!this.webSocket) throw new Error(\"Cannot write to socket when there is no active connection\");\n        // Write data to the WebSocket\n        this.webSocket.send(data, callback);\n        // WebSockets always fit everything in a single request, so we return true\n        return true;\n    }\n    /**\n\t * Force a disconnection if no connection is established after `timeout` milliseconds.\n\t */ disconnectOnTimeout() {\n        // Remove the connect listener.\n        this.removeListener(\"connected\", this.clearDisconnectTimerOnTimeout);\n        // Emit an error event so that connect is rejected upstream.\n        this.emit(\"error\", new Error(`Connection to '${this.host}:${this.port}' timed out after ${this.timeout} milliseconds`));\n        // Forcibly disconnect to clean up the connection on timeout\n        this.disconnect();\n    }\n    // Add magic glue that makes typedoc happy so that we can have the events listed on the class.\n    connected;\n    disconnected;\n    data;\n    error;\n}\n\n\n\n\nexport {$05743633fea447d4$export$25b4633f61498e1 as ElectrumWebSocket};\n//# sourceMappingURL=index.mjs.map\n","/**\n * Test whether a string contains an integer number\n */\nexport function isInteger(value) {\n  return INTEGER_REGEX.test(value);\n}\nconst INTEGER_REGEX = /^-?[0-9]+$/;\n\n/**\n * Test whether a string contains a number\n * http://stackoverflow.com/questions/13340717/json-numbers-regular-expression\n */\nexport function isNumber(value) {\n  return NUMBER_REGEX.test(value);\n}\nconst NUMBER_REGEX = /^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?$/;\n\n/**\n * Test whether a string can be safely represented with a number\n * without information loss.\n *\n * When approx is true, floating point numbers that lose a few digits but\n * are still approximately equal in value are considered safe too.\n * Integer numbers must still be exactly equal.\n */\nexport function isSafeNumber(value, config) {\n  const num = Number.parseFloat(value);\n  const str = String(num);\n  if (value === str) {\n    return true;\n  }\n  const valueDigits = countSignificantDigits(value);\n  const strDigits = countSignificantDigits(str);\n  if (valueDigits === strDigits) {\n    return true;\n  }\n  if (config?.approx === true) {\n    // A value is approximately equal when:\n    // 1. it is a floating point number, not an integer\n    // 2. it has at least 14 digits\n    // 3. the first 14 digits are equal\n    const requiredDigits = 14;\n    if (strDigits >= requiredDigits && !isInteger(value)) {\n      return true;\n    }\n  }\n  return false;\n}\nexport let UnsafeNumberReason = /*#__PURE__*/function (UnsafeNumberReason) {\n  UnsafeNumberReason[\"underflow\"] = \"underflow\";\n  UnsafeNumberReason[\"overflow\"] = \"overflow\";\n  UnsafeNumberReason[\"truncate_integer\"] = \"truncate_integer\";\n  UnsafeNumberReason[\"truncate_float\"] = \"truncate_float\";\n  return UnsafeNumberReason;\n}({});\n\n/**\n * When the provided value is an unsafe number, describe what the reason is:\n * overflow, underflow, truncate_integer, or truncate_float.\n * Returns undefined when the value is safe.\n */\nexport function getUnsafeNumberReason(value) {\n  if (isSafeNumber(value, {\n    approx: false\n  })) {\n    return undefined;\n  }\n  if (isInteger(value)) {\n    return UnsafeNumberReason.truncate_integer;\n  }\n  const num = Number.parseFloat(value);\n  if (!Number.isFinite(num)) {\n    return UnsafeNumberReason.overflow;\n  }\n  if (num === 0) {\n    return UnsafeNumberReason.underflow;\n  }\n  return UnsafeNumberReason.truncate_float;\n}\n\n/**\n * Convert a string into a number when it is safe to do so.\n * Throws an error otherwise, explaining the reason.\n */\nexport function toSafeNumberOrThrow(value, config) {\n  const number = Number.parseFloat(value);\n  const unsafeReason = getUnsafeNumberReason(value);\n  if (config?.approx === true ? unsafeReason && unsafeReason !== UnsafeNumberReason.truncate_float : unsafeReason) {\n    const unsafeReasonText = unsafeReason?.replace(/_\\w+$/, '');\n    throw new Error(`Cannot safely convert to number: the value '${value}' would ${unsafeReasonText} and become ${number}`);\n  }\n  return number;\n}\n\n/**\n * Split a number into sign, digits, and exponent.\n * The value can be constructed again from a split number by inserting a dot\n * at the second character of the digits if there is more than one digit,\n * prepending it with the sign, and appending the exponent like `e${exponent}`\n */\nexport function splitNumber(value) {\n  const match = value.match(/^(-?)(\\d+\\.?\\d*)([eE]([+-]?\\d+))?$/);\n  if (!match) {\n    throw new SyntaxError(`Invalid number: ${value}`);\n  }\n  const sign = match[1];\n  const digitsStr = match[2];\n  let exponent = match[4] !== undefined ? Number.parseInt(match[4]) : 0;\n  const dot = digitsStr.indexOf('.');\n  exponent += dot !== -1 ? dot - 1 : digitsStr.length - 1;\n  const digits = digitsStr.replace('.', '') // remove the dot (must be removed before removing leading zeros)\n  .replace(/^0*/, zeros => {\n    // remove leading zeros, add their count to the exponent\n    exponent -= zeros.length;\n    return '';\n  }).replace(/0*$/, ''); // remove trailing zeros\n\n  return digits.length > 0 ? {\n    sign,\n    digits,\n    exponent\n  } : {\n    sign,\n    digits: '0',\n    exponent: exponent + 1\n  };\n}\n\n/**\n * Compare two strings containing a numeric value\n * Returns 1 when a is larger than b, 0 when they are equal,\n * and -1 when a is smaller than b.\n */\nexport function compareNumber(a, b) {\n  if (a === b) {\n    return 0;\n  }\n  const aa = splitNumber(a);\n  const bb = splitNumber(b);\n  const sign = aa.sign === '-' ? -1 : 1;\n  if (aa.sign !== bb.sign) {\n    if (aa.digits === '0' && bb.digits === '0') {\n      return 0;\n    }\n    return sign;\n  }\n  if (aa.exponent !== bb.exponent) {\n    return aa.exponent > bb.exponent ? sign : aa.exponent < bb.exponent ? -sign : 0;\n  }\n  return aa.digits > bb.digits ? sign : aa.digits < bb.digits ? -sign : 0;\n}\n\n/**\n * Count the significant digits of a number.\n *\n * For example:\n *   '2.34' returns 3\n *   '-77' returns 2\n *   '0.003400' returns 2\n *   '120.5e+30' returns 4\n **/\nexport function countSignificantDigits(value) {\n  let start = 0;\n  if (value[0] === '-') {\n    start++;\n  }\n  while (value[start] === '0' || value[start] === '.') {\n    start++;\n  }\n  let end = value.lastIndexOf('e');\n  if (end === -1) {\n    end = value.lastIndexOf('E');\n  }\n  if (end === -1) {\n    end = value.length;\n  }\n  while (value[end - 1] === '0' || value[end - 1] === '.') {\n    end--;\n  }\n  let digits = end >= start ? end - start : 0;\n  const dot = value.indexOf('.', start);\n  if (dot !== -1 && dot < end) {\n    digits--;\n  }\n  return digits;\n}\n//# sourceMappingURL=utils.js.map","import { UnsafeNumberReason, compareNumber, countSignificantDigits, getUnsafeNumberReason, isInteger, isNumber } from './utils.js';\n\n/**\n * A lossless number. Stores its numeric value as string\n */\nexport class LosslessNumber {\n  // numeric value as string\n\n  // type information\n  isLosslessNumber = true;\n  constructor(value) {\n    if (!isNumber(value)) {\n      throw new Error(`Invalid number (value: \"${value}\")`);\n    }\n    this.value = value;\n  }\n\n  /**\n   * Get the value of the LosslessNumber as number or bigint.\n   *\n   * - a number is returned for safe numbers and decimal values that only lose some insignificant digits\n   * - a bigint is returned for big integer numbers\n   * - an Error is thrown for values that will overflow or underflow\n   *\n   * Note that you can implement your own strategy for conversion by just getting the value as string\n   * via .toString(), and using util functions like isInteger, isSafeNumber, getUnsafeNumberReason,\n   * and toSafeNumberOrThrow to convert it to a numeric value.\n   */\n  valueOf() {\n    const unsafeReason = getUnsafeNumberReason(this.value);\n\n    // safe or truncate_float\n    if (unsafeReason === undefined || unsafeReason === UnsafeNumberReason.truncate_float) {\n      return Number.parseFloat(this.value);\n    }\n\n    // truncate_integer\n    if (isInteger(this.value)) {\n      return BigInt(this.value);\n    }\n\n    // overflow or underflow\n    throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${unsafeReason} and become ${Number.parseFloat(this.value)}`);\n  }\n\n  /**\n   * Get the value of the LosslessNumber as string.\n   */\n  toString() {\n    return this.value;\n  }\n\n  // Note: we do NOT implement a .toJSON() method, and you should not implement\n  // or use that, it cannot safely turn the numeric value in the string into\n  // stringified JSON since it has to be parsed into a number first.\n}\n\n/**\n * Test whether a value is a LosslessNumber\n */\nexport function isLosslessNumber(value) {\n  // @ts-ignore\n  return value && typeof value === 'object' && value.isLosslessNumber || false;\n}\n\n/**\n * Convert a number into a LosslessNumber if this is possible in a safe way\n * If the value has too many digits, or is NaN or Infinity, an error will be thrown\n */\nexport function toLosslessNumber(value) {\n  const maxDigits = 15;\n  if (countSignificantDigits(String(value)) > maxDigits) {\n    throw new Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${value})`);\n  }\n  if (Number.isNaN(value)) {\n    throw new Error('Invalid number: NaN');\n  }\n  if (!Number.isFinite(value)) {\n    throw new Error(`Invalid number: ${value}`);\n  }\n  return new LosslessNumber(String(value));\n}\n\n/**\n * Compare two lossless numbers.\n * Returns 1 when a is larger than b, 0 when they are equal,\n * and -1 when a is smaller than b.\n */\nexport function compareLosslessNumber(a, b) {\n  return compareNumber(a.value, b.value);\n}\n//# sourceMappingURL=LosslessNumber.js.map","import { LosslessNumber } from './LosslessNumber.js';\nimport { isInteger } from './utils.js';\nexport function parseLosslessNumber(value) {\n  return new LosslessNumber(value);\n}\nexport function parseNumberAndBigInt(value) {\n  return isInteger(value) ? BigInt(value) : Number.parseFloat(value);\n}\n//# sourceMappingURL=numberParsers.js.map","import { isLosslessNumber } from './LosslessNumber.js';\n/**\n * Revive a json object.\n * Applies the reviver function recursively on all values in the JSON object.\n * @param json   A JSON Object, Array, or value\n * @param reviver\n *              A reviver function invoked with arguments `key` and `value`,\n *              which must return a replacement value. The function context\n *              (`this`) is the Object or Array that contains the currently\n *              handled value.\n */\nexport function revive(json, reviver) {\n  return reviveValue({\n    '': json\n  }, '', json, reviver);\n}\n\n/**\n * Revive a value\n */\nfunction reviveValue(context, key, value, reviver) {\n  if (Array.isArray(value)) {\n    return reviver.call(context, key, reviveArray(value, reviver));\n  }\n  if (value && typeof value === 'object' && !isLosslessNumber(value)) {\n    // note the special case for LosslessNumber,\n    // we don't want to iterate over the internals of a LosslessNumber\n    return reviver.call(context, key, reviveObject(value, reviver));\n  }\n  return reviver.call(context, key, value);\n}\n\n/**\n * Revive the properties of an object\n */\nfunction reviveObject(object, reviver) {\n  for (const key of Object.keys(object)) {\n    const value = reviveValue(object, key, object[key], reviver);\n    if (value !== undefined) {\n      object[key] = value;\n    } else {\n      delete object[key];\n    }\n  }\n  return object;\n}\n\n/**\n * Revive the properties of an Array\n */\nfunction reviveArray(array, reviver) {\n  for (let i = 0; i < array.length; i++) {\n    array[i] = reviveValue(array, String(i), array[i], reviver);\n  }\n  return array;\n}\n//# sourceMappingURL=revive.js.map","import { parseLosslessNumber } from './numberParsers.js';\nimport { revive } from './revive.js';\n/**\n * The LosslessJSON.parse() method parses a string as JSON, optionally transforming\n * the value produced by parsing.\n *\n * The parser is based on the parser of Tan Li Hou shared in\n * https://lihautan.com/json-parser-with-javascript/\n *\n * @param text\n * The string to parse as JSON. See the JSON object for a description of JSON syntax.\n *\n * @param [reviver]\n * If a function, prescribes how the value originally produced by parsing is\n * transformed, before being returned.\n *\n * @param [parseNumber=parseLosslessNumber]\n * Pass a custom number parser. Input is a string, and the output can be unknown\n * numeric value: number, bigint, LosslessNumber, or a custom BigNumber library.\n *\n * @returns Returns the Object corresponding to the given JSON text.\n *\n * @throws Throws a SyntaxError exception if the string to parse is not valid JSON.\n */\nexport function parse(text, reviver) {\n  let parseNumber = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : parseLosslessNumber;\n  let i = 0;\n  const value = parseValue();\n  expectValue(value);\n  expectEndOfInput();\n  return reviver ? revive(value, reviver) : value;\n  function parseObject() {\n    if (text.charCodeAt(i) === codeOpeningBrace) {\n      i++;\n      skipWhitespace();\n      const object = {};\n      let initial = true;\n      while (i < text.length && text.charCodeAt(i) !== codeClosingBrace) {\n        if (!initial) {\n          eatComma();\n          skipWhitespace();\n        } else {\n          initial = false;\n        }\n        const start = i;\n        const key = parseString();\n        if (key === undefined) {\n          throwObjectKeyExpected();\n          return; // To make TS happy\n        }\n        skipWhitespace();\n        eatColon();\n        const value = parseValue();\n        if (value === undefined) {\n          throwObjectValueExpected();\n          return; // To make TS happy\n        }\n\n        // TODO: test deep equal instead of strict equal\n        if (Object.prototype.hasOwnProperty.call(object, key) && !isDeepEqual(value, object[key])) {\n          // Note that we could also test `if(key in object) {...}`\n          // or `if (object[key] !== 'undefined') {...}`, but that is slower.\n          throwDuplicateKey(key, start + 1);\n        }\n        object[key] = value;\n      }\n      if (text.charCodeAt(i) !== codeClosingBrace) {\n        throwObjectKeyOrEndExpected();\n      }\n      i++;\n      return object;\n    }\n  }\n  function parseArray() {\n    if (text.charCodeAt(i) === codeOpeningBracket) {\n      i++;\n      skipWhitespace();\n      const array = [];\n      let initial = true;\n      while (i < text.length && text.charCodeAt(i) !== codeClosingBracket) {\n        if (!initial) {\n          eatComma();\n        } else {\n          initial = false;\n        }\n        const value = parseValue();\n        expectArrayItem(value);\n        array.push(value);\n      }\n      if (text.charCodeAt(i) !== codeClosingBracket) {\n        throwArrayItemOrEndExpected();\n      }\n      i++;\n      return array;\n    }\n  }\n  function parseValue() {\n    skipWhitespace();\n    const value = parseString() ?? parseNumeric() ?? parseObject() ?? parseArray() ?? parseKeyword('true', true) ?? parseKeyword('false', false) ?? parseKeyword('null', null);\n    skipWhitespace();\n    return value;\n  }\n  function parseKeyword(name, value) {\n    if (text.slice(i, i + name.length) === name) {\n      i += name.length;\n      return value;\n    }\n  }\n  function skipWhitespace() {\n    while (isWhitespace(text.charCodeAt(i))) {\n      i++;\n    }\n  }\n  function parseString() {\n    if (text.charCodeAt(i) === codeDoubleQuote) {\n      i++;\n      let result = '';\n      while (i < text.length && text.charCodeAt(i) !== codeDoubleQuote) {\n        if (text.charCodeAt(i) === codeBackslash) {\n          const char = text[i + 1];\n          const escapeChar = escapeCharacters[char];\n          if (escapeChar !== undefined) {\n            result += escapeChar;\n            i++;\n          } else if (char === 'u') {\n            if (isHex(text.charCodeAt(i + 2)) && isHex(text.charCodeAt(i + 3)) && isHex(text.charCodeAt(i + 4)) && isHex(text.charCodeAt(i + 5))) {\n              result += String.fromCharCode(Number.parseInt(text.slice(i + 2, i + 6), 16));\n              i += 5;\n            } else {\n              throwInvalidUnicodeCharacter(i);\n            }\n          } else {\n            throwInvalidEscapeCharacter(i);\n          }\n        } else {\n          if (isValidStringCharacter(text.charCodeAt(i))) {\n            result += text[i];\n          } else {\n            throwInvalidCharacter(text[i]);\n          }\n        }\n        i++;\n      }\n      expectEndOfString();\n      i++;\n      return result;\n    }\n  }\n  function parseNumeric() {\n    const start = i;\n    if (text.charCodeAt(i) === codeMinus) {\n      i++;\n      expectDigit(start);\n    }\n    if (text.charCodeAt(i) === codeZero) {\n      i++;\n    } else if (isNonZeroDigit(text.charCodeAt(i))) {\n      i++;\n      while (isDigit(text.charCodeAt(i))) {\n        i++;\n      }\n    }\n    if (text.charCodeAt(i) === codeDot) {\n      i++;\n      expectDigit(start);\n      while (isDigit(text.charCodeAt(i))) {\n        i++;\n      }\n    }\n    if (text.charCodeAt(i) === codeLowercaseE || text.charCodeAt(i) === codeUppercaseE) {\n      i++;\n      if (text.charCodeAt(i) === codeMinus || text.charCodeAt(i) === codePlus) {\n        i++;\n      }\n      expectDigit(start);\n      while (isDigit(text.charCodeAt(i))) {\n        i++;\n      }\n    }\n    if (i > start) {\n      return parseNumber(text.slice(start, i));\n    }\n  }\n  function eatComma() {\n    if (text.charCodeAt(i) !== codeComma) {\n      throw new SyntaxError(`Comma ',' expected after value ${gotAt()}`);\n    }\n    i++;\n  }\n  function eatColon() {\n    if (text.charCodeAt(i) !== codeColon) {\n      throw new SyntaxError(`Colon ':' expected after property name ${gotAt()}`);\n    }\n    i++;\n  }\n  function expectValue(value) {\n    if (value === undefined) {\n      throw new SyntaxError(`JSON value expected ${gotAt()}`);\n    }\n  }\n  function expectArrayItem(value) {\n    if (value === undefined) {\n      throw new SyntaxError(`Array item expected ${gotAt()}`);\n    }\n  }\n  function expectEndOfInput() {\n    if (i < text.length) {\n      throw new SyntaxError(`Expected end of input ${gotAt()}`);\n    }\n  }\n  function expectDigit(start) {\n    if (!isDigit(text.charCodeAt(i))) {\n      const numSoFar = text.slice(start, i);\n      throw new SyntaxError(`Invalid number '${numSoFar}', expecting a digit ${gotAt()}`);\n    }\n  }\n  function expectEndOfString() {\n    if (text.charCodeAt(i) !== codeDoubleQuote) {\n      throw new SyntaxError(`End of string '\"' expected ${gotAt()}`);\n    }\n  }\n  function throwObjectKeyExpected() {\n    throw new SyntaxError(`Quoted object key expected ${gotAt()}`);\n  }\n  function throwDuplicateKey(key, pos) {\n    throw new SyntaxError(`Duplicate key '${key}' encountered at position ${pos}`);\n  }\n  function throwObjectKeyOrEndExpected() {\n    throw new SyntaxError(`Quoted object key or end of object '}' expected ${gotAt()}`);\n  }\n  function throwArrayItemOrEndExpected() {\n    throw new SyntaxError(`Array item or end of array ']' expected ${gotAt()}`);\n  }\n  function throwInvalidCharacter(char) {\n    throw new SyntaxError(`Invalid character '${char}' ${pos()}`);\n  }\n  function throwInvalidEscapeCharacter(start) {\n    const chars = text.slice(start, start + 2);\n    throw new SyntaxError(`Invalid escape character '${chars}' ${pos()}`);\n  }\n  function throwObjectValueExpected() {\n    throw new SyntaxError(`Object value expected after ':' ${pos()}`);\n  }\n  function throwInvalidUnicodeCharacter(start) {\n    const chars = text.slice(start, start + 6);\n    throw new SyntaxError(`Invalid unicode character '${chars}' ${pos()}`);\n  }\n\n  // zero based character position\n  function pos() {\n    return `at position ${i}`;\n  }\n  function got() {\n    return i < text.length ? `but got '${text[i]}'` : 'but reached end of input';\n  }\n  function gotAt() {\n    return `${got()} ${pos()}`;\n  }\n}\nfunction isWhitespace(code) {\n  return code === codeSpace || code === codeNewline || code === codeTab || code === codeReturn;\n}\nfunction isHex(code) {\n  return code >= codeZero && code <= codeNine || code >= codeUppercaseA && code <= codeUppercaseF || code >= codeLowercaseA && code <= codeLowercaseF;\n}\nfunction isDigit(code) {\n  return code >= codeZero && code <= codeNine;\n}\nfunction isNonZeroDigit(code) {\n  return code >= codeOne && code <= codeNine;\n}\nexport function isValidStringCharacter(code) {\n  return code >= 0x20 && code <= 0x10ffff;\n}\nexport function isDeepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.length === b.length && a.every((item, index) => isDeepEqual(item, b[index]));\n  }\n  if (isObject(a) && isObject(b)) {\n    const keys = [...new Set([...Object.keys(a), ...Object.keys(b)])];\n    return keys.every(key => isDeepEqual(a[key], b[key]));\n  }\n  return false;\n}\nfunction isObject(value) {\n  return typeof value === 'object' && value !== null;\n}\n\n// map with all escape characters\nconst escapeCharacters = {\n  '\"': '\"',\n  '\\\\': '\\\\',\n  '/': '/',\n  b: '\\b',\n  f: '\\f',\n  n: '\\n',\n  r: '\\r',\n  t: '\\t'\n  // note that \\u is handled separately in parseString()\n};\nconst codeBackslash = 0x5c; // \"\\\"\nconst codeOpeningBrace = 0x7b; // \"{\"\nconst codeClosingBrace = 0x7d; // \"}\"\nconst codeOpeningBracket = 0x5b; // \"[\"\nconst codeClosingBracket = 0x5d; // \"]\"\nconst codeSpace = 0x20; // \" \"\nconst codeNewline = 0xa; // \"\\n\"\nconst codeTab = 0x9; // \"\\t\"\nconst codeReturn = 0xd; // \"\\r\"\nconst codeDoubleQuote = 0x0022; // \"\nconst codePlus = 0x2b; // \"+\"\nconst codeMinus = 0x2d; // \"-\"\nconst codeZero = 0x30;\nconst codeOne = 0x31;\nconst codeNine = 0x39;\nconst codeComma = 0x2c; // \",\"\nconst codeDot = 0x2e; // \".\" (dot, period)\nconst codeColon = 0x3a; // \":\"\nexport const codeUppercaseA = 0x41; // \"A\"\nexport const codeLowercaseA = 0x61; // \"a\"\nexport const codeUppercaseE = 0x45; // \"E\"\nexport const codeLowercaseE = 0x65; // \"e\"\nexport const codeUppercaseF = 0x46; // \"F\"\nexport const codeLowercaseF = 0x66; // \"f\"\n//# sourceMappingURL=parse.js.map","import $dvphU$electrumcashdebuglogs from \"@electrum-cash/debug-logs\";\nimport {EventEmitter as $dvphU$EventEmitter} from \"eventemitter3\";\nimport {Mutex as $dvphU$Mutex} from \"async-mutex\";\nimport {ElectrumWebSocket as $dvphU$ElectrumWebSocket} from \"@electrum-cash/web-socket\";\nimport {parse as $dvphU$parse, parseNumberAndBigInt as $dvphU$parseNumberAndBigInt} from \"lossless-json\";\n\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n\n\nclass $24139611f53a54b8$export$5d955335434540c6 {\n    /**\n\t * Helper function that builds an Electrum request object.\n\t *\n\t * @param method     - method to call.\n\t * @param parameters - method parameters for the call.\n\t * @param requestId  - unique string or number referencing this request.\n\t *\n\t * @returns a properly formatted Electrum request string.\n\t */ static buildRequestObject(method, parameters, requestId) {\n        // Return the formatted request object.\n        // NOTE: Electrum either uses JsonRPC strictly or loosely.\n        //       If we specify protocol identifier without being 100% compliant, we risk being disconnected/blacklisted.\n        //       For this reason, we omit the protocol identifier to avoid issues.\n        return JSON.stringify({\n            method: method,\n            params: parameters,\n            id: requestId\n        });\n    }\n    /**\n\t * Constant used to verify if a provided string is a valid version number.\n\t *\n\t * @returns a regular expression that matches valid version numbers.\n\t */ static get versionRegexp() {\n        return /^\\d+(\\.\\d+)+$/;\n    }\n    /**\n\t * Constant used to separate statements/messages in a stream of data.\n\t *\n\t * @returns the delimiter used by Electrum to separate statements.\n\t */ static get statementDelimiter() {\n        return \"\\n\";\n    }\n}\n\n\nvar $e83d2e7688025acd$exports = {};\n\n$parcel$export($e83d2e7688025acd$exports, \"isVersionRejected\", () => $e83d2e7688025acd$export$e1f38ab2b4ebdde6);\n$parcel$export($e83d2e7688025acd$exports, \"isVersionNegotiated\", () => $e83d2e7688025acd$export$9598f0c76aa41d73);\nconst $e83d2e7688025acd$export$e1f38ab2b4ebdde6 = function(object) {\n    return \"error\" in object;\n};\nconst $e83d2e7688025acd$export$9598f0c76aa41d73 = function(object) {\n    return \"software\" in object && \"protocol\" in object;\n};\n\n\n// Acceptable parameter types for RPC messages\nconst $abcb763a48577a1e$export$d73a2e87a509880 = function(message) {\n    return \"id\" in message && \"error\" in message;\n};\nconst $abcb763a48577a1e$export$81276773828ff315 = function(message) {\n    return \"id\" in message && \"result\" in message;\n};\nconst $abcb763a48577a1e$export$280de919a0cf6928 = function(message) {\n    return !(\"id\" in message) && \"method\" in message;\n};\nconst $abcb763a48577a1e$export$94e3360fcddccc76 = function(message) {\n    return \"id\" in message && \"method\" in message;\n};\n\n\n\nvar $db7c797e63383364$exports = {};\n\n$parcel$export($db7c797e63383364$exports, \"ConnectionStatus\", () => $db7c797e63383364$export$7516420eb880ab68);\n// Disable indent rule for this file because it is broken (https://github.com/typescript-eslint/typescript-eslint/issues/1824)\n/* eslint-disable @typescript-eslint/indent */ /**\n * Enum that denotes the connection status of an ElectrumConnection.\n * @enum {number}\n * @property {0} DISCONNECTED    The connection is disconnected.\n * @property {1} AVAILABLE       The connection is connected.\n * @property {2} DISCONNECTING   The connection is disconnecting.\n * @property {3} CONNECTING      The connection is connecting.\n * @property {4} RECONNECTING    The connection is restarting.\n */ var $db7c797e63383364$export$7516420eb880ab68;\n(function(ConnectionStatus) {\n    ConnectionStatus[ConnectionStatus[\"DISCONNECTED\"] = 0] = \"DISCONNECTED\";\n    ConnectionStatus[ConnectionStatus[\"CONNECTED\"] = 1] = \"CONNECTED\";\n    ConnectionStatus[ConnectionStatus[\"DISCONNECTING\"] = 2] = \"DISCONNECTING\";\n    ConnectionStatus[ConnectionStatus[\"CONNECTING\"] = 3] = \"CONNECTING\";\n    ConnectionStatus[ConnectionStatus[\"RECONNECTING\"] = 4] = \"RECONNECTING\";\n})($db7c797e63383364$export$7516420eb880ab68 || ($db7c797e63383364$export$7516420eb880ab68 = {}));\n\n\n\nclass $ff134c9a9e1f7361$export$de0f57fc22079b5e extends (0, $dvphU$EventEmitter) {\n    /**\n\t * Sets up network configuration for an Electrum client connection.\n\t *\n\t * @param application       - your application name, used to identify to the electrum host.\n\t * @param version           - protocol version to use with the host.\n\t * @param socketOrHostname  - pre-configured electrum socket or fully qualified domain name or IP number of the host\n\t * @param options           - ...\n\t *\n\t * @throws {Error} if `version` is not a valid version string.\n\t */ constructor(application, version, socketOrHostname, options){\n        // Initialize the event emitter.\n        super();\n        this.application = application;\n        this.version = version;\n        this.socketOrHostname = socketOrHostname;\n        this.options = options;\n        this.status = (0, $db7c797e63383364$export$7516420eb880ab68).DISCONNECTED;\n        this.verifications = [];\n        this.messageBuffer = \"\";\n        // Check if the provided version is a valid version number.\n        if (!(0, $24139611f53a54b8$export$5d955335434540c6).versionRegexp.test(version)) // Throw an error since the version number was not valid.\n        throw new Error(`Provided version string (${version}) is not a valid protocol version number.`);\n        // If a hostname was provided..\n        if (typeof socketOrHostname === \"string\") // Use a web socket with default parameters.\n        this.socket = new (0, $dvphU$ElectrumWebSocket)(socketOrHostname);\n        else // Use the provided socket.\n        this.socket = socketOrHostname;\n        // Set up handlers for connection and disconnection.\n        this.socket.on(\"connected\", this.onSocketConnect.bind(this));\n        this.socket.on(\"disconnected\", this.onSocketDisconnect.bind(this));\n        // Set up handler for incoming data.\n        this.socket.on(\"data\", this.parseMessageChunk.bind(this));\n        // Handle visibility changes when run in a browser environment.\n        if (typeof document !== \"undefined\") document.addEventListener(\"visibilitychange\", this.handleVisibilityChange.bind(this));\n        // Handle network connection changes when run in a browser environment.\n        if (typeof window !== \"undefined\") {\n            window.addEventListener(\"online\", this.handleNetworkChange.bind(this));\n            window.addEventListener(\"offline\", this.handleNetworkChange.bind(this));\n        }\n    }\n    // Expose hostIdentifier from the socket.\n    get hostIdentifier() {\n        return this.socket.hostIdentifier;\n    }\n    // Expose port from the socket.\n    get encrypted() {\n        return this.socket.encrypted;\n    }\n    /**\n\t * Assembles incoming data into statements and hands them off to the message parser.\n\t *\n\t * @param data - data to append to the current message buffer, as a string.\n\t *\n\t * @throws {SyntaxError} if the passed statement parts are not valid JSON.\n\t */ parseMessageChunk(data) {\n        // Update the timestamp for when we last received data.\n        this.lastReceivedTimestamp = Date.now();\n        // Emit a notification indicating that the connection has received data.\n        this.emit(\"received\");\n        // Clear and remove all verification timers.\n        this.verifications.forEach((timer)=>clearTimeout(timer));\n        this.verifications.length = 0;\n        // Add the message to the current message buffer.\n        this.messageBuffer += data;\n        // Check if the new message buffer contains the statement delimiter.\n        while(this.messageBuffer.includes((0, $24139611f53a54b8$export$5d955335434540c6).statementDelimiter)){\n            // Split message buffer into statements.\n            const statementParts = this.messageBuffer.split((0, $24139611f53a54b8$export$5d955335434540c6).statementDelimiter);\n            // For as long as we still have statements to parse..\n            while(statementParts.length > 1){\n                // Move the first statement to its own variable.\n                const currentStatementList = String(statementParts.shift());\n                // Parse the statement into an object or list of objects.\n                let statementList = (0, $dvphU$parse)(currentStatementList, null, this.options.useBigInt ? (0, $dvphU$parseNumberAndBigInt) : parseFloat);\n                // Wrap the statement in an array if it is not already a batched statement list.\n                if (!Array.isArray(statementList)) statementList = [\n                    statementList\n                ];\n                // For as long as there is statements in the result set..\n                while(statementList.length > 0){\n                    // Move the first statement from the batch to its own variable.\n                    const currentStatement = statementList.shift();\n                    // If the current statement is a subscription notification..\n                    if ((0, $abcb763a48577a1e$export$280de919a0cf6928)(currentStatement)) {\n                        // Emit the notification for handling higher up in the stack.\n                        this.emit(\"response\", currentStatement);\n                        continue;\n                    }\n                    // If the current statement is a version negotiation response..\n                    if (currentStatement.id === \"versionNegotiation\") {\n                        if ((0, $abcb763a48577a1e$export$d73a2e87a509880)(currentStatement)) // Then emit a failed version negotiation response signal.\n                        this.emit(\"version\", {\n                            error: currentStatement.error\n                        });\n                        else {\n                            // Extract the software and protocol version reported.\n                            const [software, protocol] = currentStatement.result;\n                            // Emit a successful version negotiation response signal.\n                            this.emit(\"version\", {\n                                software: software,\n                                protocol: protocol\n                            });\n                        }\n                        continue;\n                    }\n                    // If the current statement is a keep-alive response..\n                    if (currentStatement.id === \"keepAlive\") continue;\n                    // Emit the statements for handling higher up in the stack.\n                    this.emit(\"response\", currentStatement);\n                }\n            }\n            // Store the remaining statement as the current message buffer.\n            this.messageBuffer = statementParts.shift() || \"\";\n        }\n    }\n    /**\n\t * Sends a keep-alive message to the host.\n\t *\n\t * @returns true if the ping message was fully flushed to the socket, false if\n\t * part of the message is queued in the user memory\n\t */ ping() {\n        // Write a log message.\n        (0, $dvphU$electrumcashdebuglogs).ping(`Sending keep-alive ping to '${this.hostIdentifier}'`);\n        // Craft a keep-alive message.\n        const message = (0, $24139611f53a54b8$export$5d955335434540c6).buildRequestObject(\"server.ping\", [], \"keepAlive\");\n        // Send the keep-alive message.\n        const status = this.send(message);\n        // Return the ping status.\n        return status;\n    }\n    /**\n\t * Initiates the network connection negotiates a protocol version. Also emits the 'connect' signal if successful.\n\t *\n\t * @throws {Error} if the socket connection fails.\n\t * @returns a promise resolving when the connection is established\n\t */ async connect() {\n        // If we are already connected return true.\n        if (this.status === (0, $db7c797e63383364$export$7516420eb880ab68).CONNECTED) return;\n        // Indicate that the connection is connecting\n        this.status = (0, $db7c797e63383364$export$7516420eb880ab68).CONNECTING;\n        // Emit a connect event now that the connection is being set up.\n        this.emit(\"connecting\");\n        // Define a function to wrap connection as a promise.\n        const connectionResolver = (resolve, reject)=>{\n            const rejector = (error)=>{\n                // Set the status back to disconnected\n                this.status = (0, $db7c797e63383364$export$7516420eb880ab68).DISCONNECTED;\n                // Emit a connect event indicating that we failed to connect.\n                this.emit(\"disconnected\");\n                // Reject with the error as reason\n                reject(error);\n            };\n            // Replace previous error handlers to reject the promise on failure.\n            this.socket.removeAllListeners(\"error\");\n            this.socket.once(\"error\", rejector);\n            // Define a function to wrap version negotiation as a callback.\n            const versionNegotiator = ()=>{\n                // Write a log message to show that we have started version negotiation.\n                (0, $dvphU$electrumcashdebuglogs).network(`Requesting protocol version ${this.version} with '${this.hostIdentifier}'.`);\n                // remove the one-time error handler since no error was detected.\n                this.socket.removeListener(\"error\", rejector);\n                // Build a version negotiation message.\n                const versionMessage = (0, $24139611f53a54b8$export$5d955335434540c6).buildRequestObject(\"server.version\", [\n                    this.application,\n                    this.version\n                ], \"versionNegotiation\");\n                // Define a function to wrap version validation as a function.\n                const versionValidator = (version)=>{\n                    // Check if version negotiation failed.\n                    if ((0, $e83d2e7688025acd$export$e1f38ab2b4ebdde6)(version)) {\n                        // Disconnect from the host.\n                        this.disconnect(true);\n                        // Declare an error message.\n                        const errorMessage = \"unsupported protocol version.\";\n                        // Log the error.\n                        (0, $dvphU$electrumcashdebuglogs).errors(`Failed to connect with ${this.hostIdentifier} due to ${errorMessage}`);\n                        // Reject the connection with false since version negotiation failed.\n                        reject(errorMessage);\n                    } else if (version.protocol !== this.version && `${version.protocol}.0` !== this.version && `${version.protocol}.0.0` !== this.version) {\n                        // Disconnect from the host.\n                        this.disconnect(true);\n                        // Declare an error message.\n                        const errorMessage = `incompatible protocol version negotiated (${version.protocol} !== ${this.version}).`;\n                        // Log the error.\n                        (0, $dvphU$electrumcashdebuglogs).errors(`Failed to connect with ${this.hostIdentifier} due to ${errorMessage}`);\n                        // Reject the connection with false since version negotiation failed.\n                        reject(errorMessage);\n                    } else {\n                        // Write a log message.\n                        (0, $dvphU$electrumcashdebuglogs).network(`Negotiated protocol version ${version.protocol} with '${this.hostIdentifier}', powered by ${version.software}.`);\n                        // Set connection status to connected\n                        this.status = (0, $db7c797e63383364$export$7516420eb880ab68).CONNECTED;\n                        // Emit a connect event now that the connection is usable.\n                        this.emit(\"connected\");\n                        // Resolve the connection promise since we successfully connected and negotiated protocol version.\n                        resolve();\n                    }\n                };\n                // Listen for version negotiation once.\n                this.once(\"version\", versionValidator);\n                // Send the version negotiation message.\n                this.send(versionMessage);\n            };\n            // Prepare the version negotiation.\n            this.socket.once(\"connected\", versionNegotiator);\n            // Set up handler for network errors.\n            this.socket.on(\"error\", this.onSocketError.bind(this));\n            // Connect to the server.\n            this.socket.connect();\n        };\n        // Wait until connection is established and version negotiation succeeds.\n        await new Promise(connectionResolver);\n    }\n    /**\n\t * Restores the network connection.\n\t */ async reconnect() {\n        // If a reconnect timer is set, remove it\n        await this.clearReconnectTimer();\n        // Write a log message.\n        (0, $dvphU$electrumcashdebuglogs).network(`Trying to reconnect to '${this.hostIdentifier}'..`);\n        // Set the status to reconnecting for more accurate log messages.\n        this.status = (0, $db7c797e63383364$export$7516420eb880ab68).RECONNECTING;\n        // Emit a connect event now that the connection is usable.\n        this.emit(\"reconnecting\");\n        // Disconnect the underlying socket.\n        this.socket.disconnect();\n        try {\n            // Try to connect again.\n            await this.connect();\n        } catch (error) {\n        // Do nothing as the error should be handled via the disconnect and error signals.\n        }\n    }\n    /**\n\t * Removes the current reconnect timer.\n\t */ clearReconnectTimer() {\n        // If a reconnect timer is set, remove it\n        if (this.reconnectTimer) clearTimeout(this.reconnectTimer);\n        // Reset the timer reference.\n        this.reconnectTimer = undefined;\n    }\n    /**\n\t * Removes the current keep-alive timer.\n\t */ clearKeepAliveTimer() {\n        // If a keep-alive timer is set, remove it\n        if (this.keepAliveTimer) clearTimeout(this.keepAliveTimer);\n        // Reset the timer reference.\n        this.keepAliveTimer = undefined;\n    }\n    /**\n\t * Initializes the keep alive timer loop.\n\t */ setupKeepAliveTimer() {\n        // If the keep-alive timer loop is not currently set up..\n        if (!this.keepAliveTimer) // Set a new keep-alive timer.\n        this.keepAliveTimer = setTimeout(this.ping.bind(this), this.options.sendKeepAliveIntervalInMilliSeconds);\n    }\n    /**\n\t * Tears down the current connection and removes all event listeners on disconnect.\n\t *\n\t * @param force       - disconnect even if the connection has not been fully established yet.\n\t * @param intentional - update connection state if disconnect is intentional.\n\t *\n\t * @returns true if successfully disconnected, or false if there was no connection.\n\t */ async disconnect(force = false, intentional = true) {\n        // Return early when there is nothing to disconnect from\n        if (this.status === (0, $db7c797e63383364$export$7516420eb880ab68).DISCONNECTED && !force) // Return false to indicate that there was nothing to disconnect from.\n        return false;\n        // Update connection state if the disconnection is intentional.\n        // NOTE: The state is meant to represent what the client is requesting, but\n        //       is used internally to handle visibility changes in browsers to ensure functional reconnection.\n        if (intentional) // Set connection status to null to indicate tear-down is currently happening.\n        this.status = (0, $db7c797e63383364$export$7516420eb880ab68).DISCONNECTING;\n        // Emit a connect event to indicate that we are disconnecting.\n        this.emit(\"disconnecting\");\n        // If a keep-alive timer is set, remove it.\n        await this.clearKeepAliveTimer();\n        // If a reconnect timer is set, remove it\n        await this.clearReconnectTimer();\n        const disconnectResolver = (resolve)=>{\n            // Resolve to true after the connection emits a disconnect\n            this.once(\"disconnected\", ()=>resolve(true));\n            // Close the connection on the socket level.\n            this.socket.disconnect();\n        };\n        // Return true to indicate that we disconnected.\n        return new Promise(disconnectResolver);\n    }\n    /**\n\t * Updates the connection state based on browser reported connectivity.\n\t *\n\t * Most modern browsers are able to provide information on the connection state\n\t * which allows for significantly faster response times to network changes compared\n\t * to waiting for network requests to fail.\n\t *\n\t * When available, we make use of this to fail early to provide a better user experience.\n\t */ async handleNetworkChange() {\n        // Do nothing if we do not have the navigator available.\n        if (typeof window.navigator === \"undefined\") return;\n        // Attempt to reconnect to the network now that we may be online again.\n        if (window.navigator.onLine === true) this.reconnect();\n        // Disconnected from the network so that cleanup can happen while we're offline.\n        if (window.navigator.onLine !== true) {\n            const forceDisconnect = true;\n            const isUnintended = false;\n            this.disconnect(forceDisconnect, isUnintended);\n        }\n    }\n    /**\n\t * Updates connection state based on application visibility.\n\t *\n\t * Some browsers will disconnect network connections when the browser is out of focus,\n\t * which would normally cause our reconnect-on-timeout routines to trigger, but that\n\t * results in a poor user experience since the events are not handled consistently\n\t * and sometimes it can take some time after restoring focus to the browser.\n\t *\n\t * By manually disconnecting when this happens we prevent the default reconnection routines\n\t * and make the behavior consistent across browsers.\n\t */ async handleVisibilityChange() {\n        // Disconnect when application is removed from focus.\n        if (document.visibilityState === \"hidden\") {\n            const forceDisconnect = true;\n            const isUnintended = false;\n            this.disconnect(forceDisconnect, isUnintended);\n        }\n        // Reconnect when application is returned to focus.\n        if (document.visibilityState === \"visible\") this.reconnect();\n    }\n    /**\n\t * Sends an arbitrary message to the server.\n\t *\n\t * @param message - json encoded request object to send to the server, as a string.\n\t *\n\t * @returns true if the message was fully flushed to the socket, false if part of the message\n\t * is queued in the user memory\n\t */ send(message) {\n        // Remove the current keep-alive timer if it exists.\n        this.clearKeepAliveTimer();\n        // Get the current timestamp in milliseconds.\n        const currentTime = Date.now();\n        // Follow up and verify that the message got sent..\n        const verificationTimer = setTimeout(this.verifySend.bind(this, currentTime), this.socket.timeout);\n        // Store the verification timer locally so that it can be cleared when data has been received.\n        this.verifications.push(verificationTimer);\n        // Set a new keep-alive timer.\n        this.setupKeepAliveTimer();\n        // Write the message to the network socket.\n        return this.socket.write(message + (0, $24139611f53a54b8$export$5d955335434540c6).statementDelimiter);\n    }\n    // --- Event managers. --- //\n    /**\n\t * Marks the connection as timed out and schedules reconnection if we have not\n\t * received data within the expected time frame.\n\t */ verifySend(sentTimestamp) {\n        // If we haven't received any data since we last sent data out..\n        if (Number(this.lastReceivedTimestamp) < sentTimestamp) {\n            // If this connection is already disconnected, we do not change anything\n            if (this.status === (0, $db7c797e63383364$export$7516420eb880ab68).DISCONNECTED || this.status === (0, $db7c797e63383364$export$7516420eb880ab68).DISCONNECTING) // debug.warning(`Tried to verify already disconnected connection to '${this.hostIdentifier}'`);\n            return;\n            // Remove the current keep-alive timer if it exists.\n            this.clearKeepAliveTimer();\n            // Write a notification to the logs.\n            (0, $dvphU$electrumcashdebuglogs).network(`Connection to '${this.hostIdentifier}' timed out.`);\n            // Close the connection to avoid re-use.\n            // NOTE: This initiates reconnection routines if the connection has not\n            //       been marked as intentionally disconnected.\n            this.socket.disconnect();\n        }\n    }\n    /**\n\t * Updates the connection status when a connection is confirmed.\n\t */ onSocketConnect() {\n        // If a reconnect timer is set, remove it.\n        this.clearReconnectTimer();\n        // Set up the initial timestamp for when we last received data from the server.\n        this.lastReceivedTimestamp = Date.now();\n        // Set up the initial keep-alive timer.\n        this.setupKeepAliveTimer();\n        // Clear all temporary error listeners.\n        this.socket.removeAllListeners(\"error\");\n        // Set up handler for network errors.\n        this.socket.on(\"error\", this.onSocketError.bind(this));\n    }\n    /**\n\t * Updates the connection status when a connection is ended.\n\t */ onSocketDisconnect() {\n        // Remove the current keep-alive timer if it exists.\n        this.clearKeepAliveTimer();\n        // If this is a connection we're trying to tear down..\n        if (this.status === (0, $db7c797e63383364$export$7516420eb880ab68).DISCONNECTING) {\n            // Mark the connection as disconnected.\n            this.status = (0, $db7c797e63383364$export$7516420eb880ab68).DISCONNECTED;\n            // Send a disconnect signal higher up the stack.\n            this.emit(\"disconnected\");\n            // If a reconnect timer is set, remove it.\n            this.clearReconnectTimer();\n            // Remove all event listeners\n            this.removeAllListeners();\n            // Write a log message.\n            (0, $dvphU$electrumcashdebuglogs).network(`Disconnected from '${this.hostIdentifier}'.`);\n        } else {\n            // If this is for an established connection..\n            if (this.status === (0, $db7c797e63383364$export$7516420eb880ab68).CONNECTED) // Write a notification to the logs.\n            (0, $dvphU$electrumcashdebuglogs).errors(`Connection with '${this.hostIdentifier}' was closed, trying to reconnect in ${this.options.reconnectAfterMilliSeconds / 1000} seconds.`);\n            // Mark the connection as disconnected for now..\n            this.status = (0, $db7c797e63383364$export$7516420eb880ab68).DISCONNECTED;\n            // Send a disconnect signal higher up the stack.\n            this.emit(\"disconnected\");\n            // If we don't have a pending reconnection timer..\n            if (!this.reconnectTimer) // Attempt to reconnect after one keep-alive duration.\n            this.reconnectTimer = setTimeout(this.reconnect.bind(this), this.options.reconnectAfterMilliSeconds);\n        }\n    }\n    /**\n\t * Notify administrator of any unexpected errors.\n\t */ onSocketError(error) {\n        // Report a generic error if no error information is present.\n        // NOTE: When using WSS, the error event explicitly\n        //       only allows to send a \"simple\" event without data.\n        //       https://stackoverflow.com/a/18804298\n        if (typeof error === \"undefined\") // Do nothing, and instead rely on the socket disconnect event for further information.\n        return;\n        // Log the error, as there is nothing we can do to actually handle it.\n        (0, $dvphU$electrumcashdebuglogs).errors(`Network error ('${this.hostIdentifier}'): `, error);\n    }\n}\n\n\n\n// Define number of milliseconds per second for legibility.\nconst $d801b1f9b7fc3074$var$MILLI_SECONDS_PER_SECOND = 1000;\nconst $d801b1f9b7fc3074$export$5ba3a4134d0d751d = {\n    // By default, all numbers including integers are parsed as regular JavaScript numbers.\n    useBigInt: false,\n    // Send a ping message every seconds, to detect network problem as early as possible.\n    sendKeepAliveIntervalInMilliSeconds: 1 * $d801b1f9b7fc3074$var$MILLI_SECONDS_PER_SECOND,\n    // Try to reconnect 5 seconds after unintentional disconnects.\n    reconnectAfterMilliSeconds: 5 * $d801b1f9b7fc3074$var$MILLI_SECONDS_PER_SECOND,\n    // Try to detect stale connections 5 seconds after every send.\n    verifyConnectionTimeoutInMilliSeconds: 5 * $d801b1f9b7fc3074$var$MILLI_SECONDS_PER_SECOND\n};\n\n\n\n\n\n\n/**\n * High-level Electrum client that lets applications send requests and subscribe to notification events from a server.\n */ class $558b46d3f899ced5$var$ElectrumClient extends (0, $dvphU$EventEmitter) {\n    /**\n\t * Number corresponding to the underlying connection status.\n\t */ get status() {\n        return this.connection.status;\n    }\n    /**\n\t * Initializes an Electrum client.\n\t *\n\t * @param application       - your application name, used to identify to the electrum host.\n\t * @param version           - protocol version to use with the host.\n\t * @param socketOrHostname  - pre-configured electrum socket or fully qualified domain name or IP number of the host\n\t * @param options           - ...\n\t *\n\t * @throws {Error} if `version` is not a valid version string.\n\t */ constructor(application, version, socketOrHostname, options = {}){\n        // Initialize the event emitter.\n        super();\n        this.application = application;\n        this.version = version;\n        this.socketOrHostname = socketOrHostname;\n        this.options = options;\n        this.subscriptionMethods = {};\n        this.requestId = 0;\n        this.requestResolvers = {};\n        this.connectionLock = new (0, $dvphU$Mutex)();\n        // Update default options with the provided values.\n        const networkOptions = {\n            ...(0, $d801b1f9b7fc3074$export$5ba3a4134d0d751d),\n            ...options\n        };\n        // Set up a connection to an electrum server.\n        this.connection = new (0, $ff134c9a9e1f7361$export$de0f57fc22079b5e)(application, version, socketOrHostname, networkOptions);\n    }\n    // Expose hostIdentifier from the connection.\n    get hostIdentifier() {\n        return this.connection.hostIdentifier;\n    }\n    // Expose port from the connection.\n    get encrypted() {\n        return this.connection.encrypted;\n    }\n    /**\n\t * Connects to the remote server.\n\t *\n\t * @throws {Error} if the socket connection fails.\n\t * @returns a promise resolving when the connection is established.\n\t */ async connect() {\n        // Create a lock so that multiple connects/disconnects cannot race each other.\n        const unlock = await this.connectionLock.acquire();\n        try {\n            // If we are already connected, do not attempt to connect again.\n            if (this.connection.status === (0, $db7c797e63383364$export$7516420eb880ab68).CONNECTED) return;\n            // Listen for parsed statements.\n            this.connection.on(\"response\", this.response.bind(this));\n            // Hook up handles for the connected and disconnected events.\n            this.connection.on(\"connected\", this.resubscribeOnConnect.bind(this));\n            this.connection.on(\"disconnected\", this.onConnectionDisconnect.bind(this));\n            // Relay connecting and reconnecting events.\n            this.connection.on(\"connecting\", this.handleConnectionStatusChanges.bind(this, \"connecting\"));\n            this.connection.on(\"disconnecting\", this.handleConnectionStatusChanges.bind(this, \"disconnecting\"));\n            this.connection.on(\"reconnecting\", this.handleConnectionStatusChanges.bind(this, \"reconnecting\"));\n            // Hook up client metadata gathering functions.\n            this.connection.on(\"version\", this.storeSoftwareVersion.bind(this));\n            this.connection.on(\"received\", this.updateLastReceivedTimestamp.bind(this));\n            // Relay error events.\n            this.connection.on(\"error\", this.emit.bind(this, \"error\"));\n            // Connect with the server.\n            await this.connection.connect();\n        } finally{\n            unlock();\n        }\n    }\n    /**\n\t * Disconnects from the remote server and removes all event listeners/subscriptions and open requests.\n\t *\n\t * @param force               - disconnect even if the connection has not been fully established yet.\n\t * @param retainSubscriptions - retain subscription data so they will be restored on reconnection.\n\t *\n\t * @returns true if successfully disconnected, or false if there was no connection.\n\t */ async disconnect(force = false, retainSubscriptions = false) {\n        if (!retainSubscriptions) {\n            // Cancel all event listeners.\n            this.removeAllListeners();\n            // Remove all subscription data\n            this.subscriptionMethods = {};\n        }\n        // Disconnect from the remote server.\n        return this.connection.disconnect(force);\n    }\n    /**\n\t * Calls a method on the remote server with the supplied parameters.\n\t *\n\t * @param method     - name of the method to call.\n\t * @param parameters - one or more parameters for the method.\n\t *\n\t * @throws {Error} if the client is disconnected.\n\t * @returns a promise that resolves with the result of the method or an Error.\n\t */ async request(method, ...parameters) {\n        // If we are not connected to a server..\n        if (this.connection.status !== (0, $db7c797e63383364$export$7516420eb880ab68).CONNECTED) // Reject the request with a disconnected error message.\n        throw new Error(`Unable to send request to a disconnected server '${this.hostIdentifier}'.`);\n        // Increase the request ID by one.\n        this.requestId += 1;\n        // Store a copy of the request id.\n        const id = this.requestId;\n        // Format the arguments as an electrum request object.\n        const message = (0, $24139611f53a54b8$export$5d955335434540c6).buildRequestObject(method, parameters, id);\n        // Define a function to wrap the request in a promise.\n        const requestResolver = (resolve)=>{\n            // Add a request resolver for this promise to the list of requests.\n            this.requestResolvers[id] = (error, data)=>{\n                // If the resolution failed..\n                if (error) // Resolve the promise with the error for the application to handle.\n                resolve(error);\n                else // Resolve the promise with the request results.\n                resolve(data);\n            };\n            // Send the request message to the remote server.\n            this.connection.send(message);\n        };\n        // Write a log message.\n        (0, $dvphU$electrumcashdebuglogs).network(`Sending request '${method}' to '${this.hostIdentifier}'`);\n        // return a promise to deliver results later.\n        return new Promise(requestResolver);\n    }\n    /**\n\t * Subscribes to the method and payload at the server.\n\t *\n\t * @remarks the response for the subscription request is issued as a notification event.\n\t *\n\t * @param method     - one of the subscribable methods the server supports.\n\t * @param parameters - one or more parameters for the method.\n\t *\n\t * @throws {Error} if the client is disconnected.\n\t * @returns a promise resolving when the subscription is established.\n\t */ async subscribe(method, ...parameters) {\n        // Initialize an empty list of subscription payloads, if needed.\n        if (!this.subscriptionMethods[method]) this.subscriptionMethods[method] = new Set();\n        // Store the subscription parameters to track what data we have subscribed to.\n        this.subscriptionMethods[method].add(JSON.stringify(parameters));\n        // Send initial subscription request.\n        const requestData = await this.request(method, ...parameters);\n        // If the request failed, throw it as an error.\n        if (requestData instanceof Error) throw requestData;\n        // If the request returned more than one data point..\n        if (Array.isArray(requestData)) // .. throw an error, as this breaks our expectation for subscriptions.\n        throw new Error(\"Subscription request returned an more than one data point.\");\n        // Construct a notification structure to package the initial result as a notification.\n        const notification = {\n            jsonrpc: \"2.0\",\n            method: method,\n            params: [\n                ...parameters,\n                requestData\n            ]\n        };\n        // Manually emit an event for the initial response.\n        this.emit(\"notification\", notification);\n        // Try to update the chain height.\n        this.updateChainHeightFromHeadersNotifications(notification);\n    }\n    /**\n\t * Unsubscribes to the method at the server and removes any callback functions\n\t * when there are no more subscriptions for the method.\n\t *\n\t * @param method     - a previously subscribed to method.\n\t * @param parameters - one or more parameters for the method.\n\t *\n\t * @throws {Error} if no subscriptions exist for the combination of the provided `method` and `parameters.\n\t * @throws {Error} if the client is disconnected.\n\t * @returns a promise resolving when the subscription is removed.\n\t */ async unsubscribe(method, ...parameters) {\n        // Throw an error if the client is disconnected.\n        if (this.connection.status !== (0, $db7c797e63383364$export$7516420eb880ab68).CONNECTED) throw new Error(`Unable to send unsubscribe request to a disconnected server '${this.hostIdentifier}'.`);\n        // If this method has no subscriptions..\n        if (!this.subscriptionMethods[method]) // Reject this promise with an explanation.\n        throw new Error(`Cannot unsubscribe from '${method}' since the method has no subscriptions.`);\n        // Pack up the parameters as a long string.\n        const subscriptionParameters = JSON.stringify(parameters);\n        // If the method payload could not be located..\n        if (!this.subscriptionMethods[method].has(subscriptionParameters)) // Reject this promise with an explanation.\n        throw new Error(`Cannot unsubscribe from '${method}' since it has no subscription with the given parameters.`);\n        // Remove this specific subscription payload from internal tracking.\n        this.subscriptionMethods[method].delete(subscriptionParameters);\n        // Send unsubscription request to the server\n        // NOTE: As a convenience we allow users to define the method as the subscribe or unsubscribe version.\n        await this.request(method.replace(\".subscribe\", \".unsubscribe\"), ...parameters);\n        // Write a log message.\n        (0, $dvphU$electrumcashdebuglogs).client(`Unsubscribed from '${String(method)}' for the '${subscriptionParameters}' parameters.`);\n    }\n    /**\n\t * Restores existing subscriptions without updating status or triggering manual callbacks.\n\t *\n\t * @throws {Error} if subscription data cannot be found for all stored event names.\n\t * @throws {Error} if the client is disconnected.\n\t * @returns a promise resolving to true when the subscriptions are restored.\n\t *\n\t * @ignore\n\t */ async resubscribeOnConnect() {\n        // Write a log message.\n        (0, $dvphU$electrumcashdebuglogs).client(`Connected to '${this.hostIdentifier}'.`);\n        // Synchronize with the underlying connection status.\n        this.handleConnectionStatusChanges(\"connected\");\n        // Initialize an empty list of resubscription promises.\n        const resubscriptionPromises = [];\n        // For each method we have a subscription for..\n        for(const method in this.subscriptionMethods){\n            // .. and for each parameter we have previously been subscribed to..\n            for (const parameterJSON of this.subscriptionMethods[method].values()){\n                // restore the parameters from JSON.\n                const parameters = JSON.parse(parameterJSON);\n                // Send a subscription request.\n                resubscriptionPromises.push(this.subscribe(method, ...parameters));\n            }\n            // Wait for all re-subscriptions to complete.\n            await Promise.all(resubscriptionPromises);\n        }\n        // Write a log message if there was any subscriptions to restore.\n        if (resubscriptionPromises.length > 0) (0, $dvphU$electrumcashdebuglogs).client(`Restored ${resubscriptionPromises.length} previous subscriptions for '${this.hostIdentifier}'`);\n    }\n    /**\n\t * Parser messages from the remote server to resolve request promises and emit subscription events.\n\t *\n\t * @param message - the response message\n\t *\n\t * @throws {Error} if the message ID does not match an existing request.\n\t * @ignore\n\t */ response(message) {\n        // If the received message is a notification, we forward it to all event listeners\n        if ((0, $abcb763a48577a1e$export$280de919a0cf6928)(message)) {\n            // Write a log message.\n            (0, $dvphU$electrumcashdebuglogs).client(`Received notification for '${message.method}' from '${this.hostIdentifier}'`);\n            // Forward the message content to all event listeners.\n            this.emit(\"notification\", message);\n            // Try to update the chain height.\n            this.updateChainHeightFromHeadersNotifications(message);\n            // Return since it does not have an associated request resolver\n            return;\n        }\n        // If the response ID is null we cannot use it to index our request resolvers\n        if (message.id === null) // Throw an internal error, this should not happen.\n        throw new Error(\"Internal error: Received an RPC response with ID null.\");\n        // Look up which request promise we should resolve this.\n        const requestResolver = this.requestResolvers[message.id];\n        // If we do not have a request resolver for this response message..\n        if (!requestResolver) {\n            // Log that a message was ignored since the request has already been rejected.\n            (0, $dvphU$electrumcashdebuglogs).warning(`Ignoring response #${message.id} as the request has already been rejected.`);\n            // Return as this has now been fully handled.\n            return;\n        }\n        // Remove the promise from the request list.\n        delete this.requestResolvers[message.id];\n        // If the message contains an error..\n        if ((0, $abcb763a48577a1e$export$d73a2e87a509880)(message)) // Forward the message error to the request resolver and omit the `result` parameter.\n        requestResolver(new Error(message.error.message));\n        else {\n            // Forward the message content to the request resolver and omit the `error` parameter\n            // (by setting it to undefined).\n            requestResolver(undefined, message.result);\n            // Attempt to extract genesis hash from feature requests.\n            this.storeGenesisHashFromFeaturesResponse(message);\n        }\n    }\n    /**\n\t * Callback function that is called when connection to the Electrum server is lost.\n\t * Aborts all active requests with an error message indicating that connection was lost.\n\t *\n\t * @ignore\n\t */ async onConnectionDisconnect() {\n        // Loop over active requests\n        for(const resolverId in this.requestResolvers){\n            // Extract request resolver for readability\n            const requestResolver = this.requestResolvers[resolverId];\n            // Resolve the active request with an error indicating that the connection was lost.\n            requestResolver(new Error(\"Connection lost\"));\n            // Remove the promise from the request list.\n            delete this.requestResolvers[resolverId];\n        }\n        // Synchronize with the underlying connection status.\n        this.handleConnectionStatusChanges(\"disconnected\");\n    }\n    /**\n\t * Stores the server provider software version field on successful version negotiation.\n\t *\n\t * @ignore\n\t */ async storeSoftwareVersion(versionStatement) {\n        // TODO: handle failed version negotiation better.\n        if (versionStatement.error) // Do nothing.\n        return;\n        // Store the software version.\n        this.software = versionStatement.software;\n    }\n    /**\n\t * Updates the last received timestamp.\n\t *\n\t * @ignore\n\t */ async updateLastReceivedTimestamp() {\n        // Update the timestamp for when we last received data.\n        this.lastReceivedTimestamp = Date.now();\n    }\n    /**\n\t * Checks if the provided message is a response to a headers subscription,\n\t * and if so updates the locally stored chain height value for this client.\n\t *\n\t * @ignore\n\t */ async updateChainHeightFromHeadersNotifications(message) {\n        // If the message is a notification for a new chain height..\n        if (message.method === \"blockchain.headers.subscribe\") // ..also store the updated chain height locally.\n        this.chainHeight = message.params[0].height;\n    }\n    /**\n\t * Checks if the provided message is a response to a server.features request,\n\t * and if so stores the genesis hash for this client locally.\n\t *\n\t * @ignore\n\t */ async storeGenesisHashFromFeaturesResponse(message) {\n        try {\n            // If the message is a response to a features request..\n            if (typeof message.result.genesis_hash !== \"undefined\") // ..store the genesis hash locally.\n            this.genesisHash = message.result.genesis_hash;\n        } catch (error) {\n        // Do nothing.\n        }\n    }\n    /**\n\t * Helper function to synchronize state and events with the underlying connection.\n\t */ async handleConnectionStatusChanges(eventName) {\n        // Re-emit the event.\n        this.emit(eventName);\n    }\n}\nvar // Export the client.\n$558b46d3f899ced5$export$2e2bcd8739ae039 = $558b46d3f899ced5$var$ElectrumClient;\n\n\n\n\n\n\nexport {$558b46d3f899ced5$export$2e2bcd8739ae039 as ElectrumClient, $e83d2e7688025acd$export$e1f38ab2b4ebdde6 as isVersionRejected, $e83d2e7688025acd$export$9598f0c76aa41d73 as isVersionNegotiated, $db7c797e63383364$export$7516420eb880ab68 as ConnectionStatus};\n//# sourceMappingURL=index.mjs.map\n"],"names":["s","m","h","d","w","y","ms","val","options","type","parse","fmtLong","fmtShort","str","match","n","msAbs","plural","name","isPlural","setup","env","createDebug","coerce","disable","enable","enabled","require$$0","destroy","key","selectColor","namespace","hash","i","prevTime","enableOverride","namespacesCache","enabledCache","debug","args","self","curr","index","format","formatter","extend","v","delimiter","newDebug","namespaces","split","ns","matchesTemplate","search","template","searchIndex","templateIndex","starIndex","matchIndex","skip","common","exports","formatArgs","save","load","useColors","localstorage","warned","module","c","lastC","r","define_process_env_default","formatters","error","$9de8c596df24b669$var$debug","$dvphU$debug","$9de8c596df24b669$export$2e2bcd8739ae039","has","prefix","Events","EE","fn","context","once","addListener","emitter","event","listener","evt","clearEvent","EventEmitter","names","events","handlers","ee","listeners","a1","a2","a3","a4","a5","len","length","j","E_CANCELED","__awaiter$2","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","e","rejected","result","Semaphore","_value","_cancelError","weight","priority","task","findIndexFromEnd","other","callback_1","callback","release","insertSorted","entry","item","previousValue","called","waiters","waiter","queuedPriority","a","predicate","__awaiter$1","Mutex","cancelError","releaser","ws","$parcel$export","$05743633fea447d4$exports","$05743633fea447d4$export$25b4633f61498e1","$d801b1f9b7fc3074$export$1bddf2b96e25d075","$dvphU$EventEmitter","host","port","encrypted","timeout","connectionType","$dvphU$electrumcashdebuglogs","$dvphU$WebSocket","data","isInteger","INTEGER_REGEX","isNumber","NUMBER_REGEX","isSafeNumber","config","num","valueDigits","countSignificantDigits","strDigits","UnsafeNumberReason","getUnsafeNumberReason","start","end","digits","dot","LosslessNumber","unsafeReason","isLosslessNumber","parseLosslessNumber","parseNumberAndBigInt","revive","json","reviver","reviveValue","reviveArray","reviveObject","object","array","text","parseNumber","parseValue","expectValue","expectEndOfInput","parseObject","codeOpeningBrace","skipWhitespace","initial","codeClosingBrace","eatComma","parseString","throwObjectKeyExpected","eatColon","throwObjectValueExpected","isDeepEqual","throwDuplicateKey","throwObjectKeyOrEndExpected","parseArray","codeOpeningBracket","codeClosingBracket","expectArrayItem","throwArrayItemOrEndExpected","parseNumeric","parseKeyword","isWhitespace","codeDoubleQuote","codeBackslash","char","escapeChar","escapeCharacters","isHex","throwInvalidUnicodeCharacter","throwInvalidEscapeCharacter","isValidStringCharacter","throwInvalidCharacter","expectEndOfString","codeMinus","expectDigit","codeZero","isNonZeroDigit","isDigit","codeDot","codeLowercaseE","codeUppercaseE","codePlus","codeComma","gotAt","codeColon","numSoFar","pos","chars","got","code","codeSpace","codeNewline","codeTab","codeReturn","codeNine","codeUppercaseA","codeUppercaseF","codeLowercaseA","codeLowercaseF","codeOne","b","isObject","$24139611f53a54b8$export$5d955335434540c6","method","parameters","requestId","$e83d2e7688025acd$exports","$e83d2e7688025acd$export$e1f38ab2b4ebdde6","$e83d2e7688025acd$export$9598f0c76aa41d73","$abcb763a48577a1e$export$d73a2e87a509880","message","$abcb763a48577a1e$export$280de919a0cf6928","$db7c797e63383364$exports","$db7c797e63383364$export$7516420eb880ab68","ConnectionStatus","$ff134c9a9e1f7361$export$de0f57fc22079b5e","application","version","socketOrHostname","$dvphU$ElectrumWebSocket","timer","statementParts","currentStatementList","statementList","$dvphU$parse","$dvphU$parseNumberAndBigInt","currentStatement","software","protocol","connectionResolver","rejector","versionNegotiator","versionMessage","versionValidator","errorMessage","force","intentional","disconnectResolver","currentTime","verificationTimer","sentTimestamp","$d801b1f9b7fc3074$var$MILLI_SECONDS_PER_SECOND","$d801b1f9b7fc3074$export$5ba3a4134d0d751d","$558b46d3f899ced5$var$ElectrumClient","$dvphU$Mutex","networkOptions","unlock","retainSubscriptions","id","requestResolver","requestData","notification","subscriptionParameters","resubscriptionPromises","parameterJSON","resolverId","versionStatement","eventName","$558b46d3f899ced5$export$2e2bcd8739ae039"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13]}